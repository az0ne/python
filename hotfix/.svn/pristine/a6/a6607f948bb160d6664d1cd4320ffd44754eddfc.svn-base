/*! LPS4.0 2016-08-25
* To be, or not to be- that is the question 
*/
function submit_display(e){$(".teacherRecruitFormWrite").removeClass("active"),$(".teacherRecruitFormSubmit,.teacherRecruitFormFlow strong:last-child").addClass("active"),e?($(".teacherRecruitFormSuccess").show(),$(".teacherRecruitFormError").hide()):($(".teacherRecruitFormSuccess").hide(),$(".teacherRecruitFormError").show())}function submit_teacher_recruit(e){e.geetest_challenge=$("#teacherRecruitForms .geetest_challenge").attr("value"),e.geetest_validate=$("#teacherRecruitForms .geetest_challenge").attr("value"),e.geetest_seccode=$("#teacherRecruitForms .geetest_challenge").attr("value"),$.ajax({type:"POST",url:"/common/ajax/teacher_recruit_form/",data:e,dataType:"json",success:function(e){e.status?submit_display(!0):($("#error_msg").text(e.msg),submit_display(!1))}})}define("/js/lps4/dist/main",["jquery","function","bootstrap","./search.js"],function(e,t,a){function s(e){var t="";t+='<div id="imgzoom"><i class="imgzoom-close"></i><div id="imgzoom-image-ctn">',t+='<img class="img" src="'+e+'" alt=""/>',t+="</div></div>",f("body").append(t);var a=f("#imgzoom-image-ctn"),s=f(window).height()-56;a.find(".img").load(function(){var e=a.outerHeight(),t=a.outerWidth(),i=a.outerWidth()/a.outerHeight();a.outerWidth()>e?a.outerHeight()>s&&(e=s-20,t=e*i):t>1160&&(t=1160,e=1160/i),a.css({left:"50%",top:"50%",marginLeft:-t/2,marginTop:-e/2})}),f("#imgzoom").height(s).fadeIn("fast","linear"),f(".imgzoom-close").on("click",function(){f("#imgzoom").remove()})}function i(e,t){window.setInterval(function(){var a=0,s=0,i=0,n=0;e>0&&(a=Math.floor(e/86400),s=Math.floor(e/3600)-24*a,i=Math.floor(e/60)-60*24*a-60*s,n=Math.floor(e)-60*60*24*a-60*60*s-60*i),9>=i&&(i="0"+i),9>=n&&(n="0"+n),f(t+"#day_show").html(a+"天"),f(t+"#hour_show").html(s+"时"),f(t+"#minute_show").html(i+"分"),f(t+"#second_show").html(n+"秒"),e--},1e3)}function n(e){var t={tabNav:".tab_menu > li",tabBox:".tab_box > div",select:"active",type:"show"},a=e;f.extend(t,e);var s=f(t.tabNav||a.tabNav);s.click(function(){f(this).addClass(t.select||a.select).siblings().removeClass(t.select||a.select);var e=s.index(this);switch(t.type){case"show":f(t.tabBox||a.tabBox).eq(e).show().siblings().hide();break;case"slide":f(t.tabBox||a.tabBox).eq(e).slideDown(300).siblings().slideUp(300);break;case"fade":f(t.tabBox||a.tabBox).eq(e).fadeIn(300).siblings().fadeOut(300)}})}function o(e){location.href="/course/list/?catagory="+e}function r(){c()}function c(e){f("#id_account_l").val(""),f("#id_password_l").val(""),f("#id_email").val(""),f("#id_password").val(""),f("#id_captcha_1").val(""),f("#id_mobile").val(""),f("#id_mobile_code").val(""),f("#id_password_m").val(""),f("#id_captcha_m_1").val(""),f("#id_captcha_1").val(""),f("#login-form-tips").hide(),f("#findpassword-tips").hide(),f("#mobile_code_password-tips").hide(),f("#register-tips").hide(),f("#loginModal").modal("show"),e!==void 0&&f("#loginModal #login-form-tips").show().html(e)}function l(){f.ajax({cache:!1,type:"POST",url:"/user/login/",data:f("#login_form").serialize(),async:!0,beforeSend:function(){f("#login_btn").html("登录中..."),f("#login_btn").attr("disabled","disabled")},success:function(e){if(e.account_l)f("#login-form-tips").html(e.account_l).show(500),f("#id_account_l").focus();else if(e.password_l)f("#login-form-tips").html(e.password_l).show(500),f("#id_password_l").focus();else{if("success"==e.status)return"True"==e.onepay_status?window.location.replace("/"):window.location.replace(e.url),d()!==!1&&window.location.reload(),void 0;"failure"==e.status&&("no_active"==e.msg?($=f("#id_account_l").val(),_=$,p(!1,$,f("#id_password_l").val())):f("#login-form-tips").html("账号或者密码错误，请重新输入").show(500))}},complete:function(){f("#login_btn").html("登录"),f("#login_btn").removeAttr("disabled")}})}function d(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),a=e.indexOf("Trident/");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(a>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}return!1}function u(e){var t=e||"mobile_register_form";"mobile_register_form"==t?(f(".active .form-control").val().length>0&&f(".active .form-control").next("label").css({transform:"translateY(-18px)"}),f.ajax({type:"POST",url:"/user/register/mobile_verify/",data:{type:"mobile",mobile:f("#id_mobile_code").val(),password_m:f("#id_password_m").val(),geetest_challenge:f(".geetest_challenge").attr("value"),geetest_validate:f(".geetest_validate").attr("value"),geetest_seccode:f(".geetest_seccode").attr("value"),mobile_code:"-11111"},beforeSend:function(){f(".sign_btn").html("注册中..."),f("sign_btn").attr("disabled","disabled")},success:function(e){"success"==e.status?(f.ajax({type:"POST",url:"/user/register/mobile/sendsms_signup/",data:{mobile:f("#id_mobile_code").val(),geetest_challenge:f(".geetest_challenge").attr("value"),geetest_validate:f(".geetest_validate").attr("value"),geetest_seccode:f(".geetest_seccode").attr("value")},success:function(e){e.mobile?(f(".verify-tips").removeClass("success").addClass("error").html(e.mobile).show(500),f(".tab-pane.active .captcha").siblings(".v_sign_tips").addClass("error").html(e.mobile).show(500)):e.captcha?f(".verify-tips").removeClass("success").addClass("error").html(e.captcha).show(500):"failure"==e.status?f(".verify-tips").removeClass("success").addClass("error").html("短信验证码发送失败").show(500):(f(".verify-tips").removeClass("error").addClass("success").html(e.info).show(500),f("#mobile_register_form").hide().siblings("#verify_form").show("fast",function(){f(".sign-tabs li").unbind("click")}),show_send_sms(60))}}),f(".user_mobile").html(f("#id_mobile_code").val().substring(0,3)+"****"+f("#id_mobile_code").val().substring(8,11)),f("#verify-ok").on("click",function(){f.ajax({type:"POST",url:"/user/register/mobile/",data:{type:"mobile",mobile:f("#id_mobile_code").val(),password_m:f("#id_password_m").val(),geetest_challenge:f(".geetest_challenge").attr("value"),geetest_validate:f(".geetest_validate").attr("value"),geetest_seccode:f(".geetest_seccode").attr("value"),mobile_code:f("#Verify").val(),partner:f("#reg_partner").val(),openid:f("#reg_openid").val(),invitation_code:f("#invitation_code").val()},beforeSend:function(){},success:function(e){e.mobile_code?f(".verify-tips").removeClass("success").addClass("error").html(e.mobile_code).show(500):window.location="/user/sign_success/"}})})):e.mobile?f(".m_sign_tips").addClass("error").html(e.mobile).show(500):e.password_m?f(".p_sign_tips").addClass("error").html(e.password_m).show(500):e.captcha&&f(".tab-pane.active .captcha").siblings(".v_sign_tips").addClass("error").html(e.captcha).show(500)},complete:function(){f(".sign_btn").html("注册"),f(".sign_btn").removeAttr("disabled")}})):"email_register_form"==t&&f.ajax({cache:!1,type:"POST",url:"/user/register/email/",data:{type:"email",email:f("#id_email").val(),password:f("#id_password").val(),geetest_challenge:f("#email_register_form .geetest_challenge").attr("value"),geetest_validate:f("#email_register_form .geetest_validate").attr("value"),geetest_seccode:f("#email_register_form .geetest_seccode").attr("value"),partner:f("#reg_partner").val(),openid:f("#reg_openid").val(),invitation_code:f("#invitation_code").val()},async:!0,beforeSend:function(){f(".sign_btn").html("注册中..."),f(".sign_btn").attr("disabled","disabled")},success:function(e){e.email?f("label[for=email]").siblings(".e_sign_tips").addClass("error").html(e.email).show(500):e.password?f("label[for=password]").siblings(".e_sign_tips").addClass("error").html(e.password).show(500):e.email_ue?f(".tab-pane.active .captcha").siblings(".v_sign_tips").addClass("error").html(e.email_ue).show(500):e.captcha?f(".tab-pane.active .captcha").siblings(".v_sign_tips").addClass("error").html(e.captcha).show(500):(f("#email_register_form").hide().siblings("#email_form").show(),f(".email-tips").addClass("success"),f(".user_email").html(f("#id_email").val()))},complete:function(){f(".sign_btn").html("注册"),f(".sign_btn").removeAttr("disabled")}})}function h(){f.ajax({cache:!1,type:"POST",url:"/user/password/find/",data:{account:f("#id_account").val(),geetest_challenge:f("#find_password_form .geetest_challenge").attr("value"),geetest_validate:f("#find_password_form .geetest_validate").attr("value"),geetest_seccode:f("#find_password_form .geetest_seccode").attr("value")},async:!0,beforeSend:function(){f("#findpassword_btn").html("提交中..."),f("#findpassword_btn").attr("disabled","disabled")},success:function(e){e.account?f("#findpassword-tips").html(e.account).show(500):e.captcha?f("#findpassword-tips").html(e.captcha).show(500):e.email_ue?f("#findpassword-tips").html(e.email_ue).show(500):e.mobile?f("#findpassword-tips").html(e.mobile).show(500):f("#id_account").val().indexOf("@")>0?f("#findpassword-tips").html("找回密码邮件已发送").show(500):("failure"==e.status?f("#mobile_code_password_form_message").html("手机短信验证码发送失败！"):(f("#mobile_code_password_form_message").html("手机短信验证码已发送，请查收！"),show_send_sms(60)),f("#id_mobile_f").val(f("#id_account").val()),f("#forgetpswModal").modal("hide"),f("#forgetpswMobileModal").modal("show"))},complete:function(){f("#findpassword_btn").html("提交"),f("#findpassword_btn").removeAttr("disabled")}})}function p(e,t){var a=!0;if(e)a=!0;else{f("#emailValidate .close").unbind().click(function(){f("#emailValidate").modal("hide")}),f("#registerModal").modal("hide"),f("#addemailModal").modal("hide"),f("#emailValidate").modal("show");var s=f(".zy_email .a>a"),i=t.split("@")[1];s.attr("href",b[i]),f("#emailValidateEE span").html(t),(void 0==b[i]||null==b[i])&&s.parent().hide(),a=!1}return a}function m(t,a){switch(a=a||{},t){case"index":e.async("./index");break;case"signUP":e.async("./signUP",function(e){e.init(T,x,k,u,this)});break;case"newCouse":e.async("./newCouse",function(e){e.init(this)});break;case"studentM":e.async("./studentM",function(e){e.init(this,a)});break;case"newCouseD":e.async("./newCouseD",function(e){e.init(this)});break;case"statisticsL":e.async("./statisticsL",function(e){e.init(this)});break;case"statisticsM":e.async("./statisticsM",function(e){e.init(this,a)});break;case"broadcastM":e.async("./broadcastM",function(e){e.init(this)});break;case"classM":e.async("./classM",function(e){e.init(this,a)});break;case"lessonVideo":e.async("./lessonVideo",function(e){e.init(this)});break;case"lessonVideoLists":e.async("./lessonVideoLists",function(e){e.init(this)});break;case"articleList":e.async("./articleList",function(e){e.init(this)});break;case"articleDetail":e.async("./articleDetail",function(e){e.init(this)});break;case"personalCenterSinfo":e.async("./personalCenterSinfo",function(e){e.init(this)});break;case"personalCenterStaste":e.async("./personalCenterStaste",function(e){e.init(this)});break;case"personalCenter":e.async("./personalCenter",function(e){e.init(this)});break;case"personalCenterSbasic":e.async("./personalCenterSbasic",function(e){e.init(this,a)});break;case"educationalCenter":e.async("./educationalCenter",function(e){e.init(this,a)});break;case"teacherCenterING":e.async("./teacherCenterING",function(e){e.init(this)});break;case"personalCenterSjob":e.async("./personalCenterSjob",function(e){e.init(this)});break;case"personalCenterSsetting":e.async("./personalCenterSsetting",function(e){e.init(this)});break;case"tutorials_list":e.async("./tutorials_list",function(e){e.init(this)});break;case"tutorials_article":e.async("./tutorials_article",function(e){e.init(this)});break;case"teacherIntroduce":e.async("./teacherIntroduce");break;case"courseIntroduce":e.async("./courseIntroduce");break;case"teacherRecruit":e.async("./teacherRecruit");break;case"teacherRecruitForm":e.async("./teacherRecruitForm",function(e){e.init(this)});break;case"freeLearn":e.async("./free_learn");break;case"proAnswer":e.async("./proAnswer");break;case"trycourseteacher":e.async("./trycourseteacher");break;case"trymanageteacher":e.async("./trymanageteacher");break;case"personalCenterStudent":e.async("./personalCenterStudent");break;case"studentmyanswerdetail":e.async("./studentmyanswerdetail");break;case"studentmyanswer":e.async("./studentmyanswer",function(e){e.init(this)});break;case"wikiArticle":e.async("./wikiArticle");break;case"feedbackBox":e.async("./feedbackBox");break;case"search_result":e.async("./search_result");break;case"courseAppointment":e.async("./courseAppointment")}}var f=e("jquery");e("function"),e("bootstrap")(f),f(".index").length>0||e("./search").Search(),f(".personalFeedbackLmenu a").mouseover(function(){f(this).addClass("active"),f(this).siblings(".feedboxTip").stop().slideDown(150).animate({opacity:"1"},400)}),f(".feedboxTip .closed").click(function(){f(this).parent().siblings("a").removeClass("active"),f(this).parent().stop().animate({opacity:"0"},250).slideUp(500)});var v=f(".topRight").attr("login");if("True"==v){var g=f(".nick_name a:first-child");g.attr("data-name").length>=4?g.text(g.attr("data-name").substring(0,4)+"..."):g.text(g.attr("data-name"))}var $="",_="",b={"qq.com":"http://mail.qq.com","gmail.com":"http://mail.google.com","sina.com":"http://mail.sina.com.cn","163.com":"http://mail.163.com","126.com":"http://mail.126.com","yeah.net":"http://www.yeah.net/","sohu.com":"http://mail.sohu.com/","tom.com":"http://mail.tom.com/","sogou.com":"http://mail.sogou.com/","139.com":"http://mail.10086.cn/","hotmail.com":"http://www.hotmail.com","live.com":"http://login.live.com/","live.cn":"http://login.live.cn/","live.com.cn":"http://login.live.com.cn","189.com":"http://webmail16.189.cn/webmail/","yahoo.com.cn":"http://mail.cn.yahoo.com/","yahoo.cn":"http://mail.cn.yahoo.com/","eyou.com":"http://www.eyou.com/","21cn.com":"http://mail.21cn.com/","188.com":"http://www.188.com/","foxmail.coom":"http://www.foxmail.com"},w=60,y="";this.sendECount,this.zy_Countdown=function(){w--,f(".sendE2 span").html(w+"s"),f(".zy_success span").html(y),58>w&&f(".zy_success").addClass("upmove"),0>=w&&(w=60,f(".sendE2").hide(),f(".sendE").show(),clearInterval(sendECount))};var x,k,C,T=function(e,t,a){a=a||function(){};var s={obj:e,ty:t};void 0==s.ty&&(s.ty="");var i=function(e){switch(e.appendTo(s.obj),e.onSuccess(function(){f(".tab-pane.active .captcha").siblings(".v_sign_tips").removeClass("error").html("").show(500)}),s.ty){case"mobile/":x=e;break;case"verifyMobile/":a.call(this,e);break;case"verifyEmail/":a.call(this,e);break;case"":C=e;break;default:k=e}};f.ajax({url:"/geetest/getcaptcha/"+s.ty,type:"get",dataType:"json",success:function(e){initGeetest({gt:e.gt,challenge:e.challenge,product:"float",offline:!e.success},i)}})};this.captchaMy=T,this.openVideo=function(e){e||(e="http://ocsource.maiziedu.com/lps_intro.mp4"),f("#microohvideo").children().attr("src",e),f("#VideoDemo").modal("show")},this.openVideo2=function(e){e||(e="http://ocsource.maiziedu.com/lps_intro.mp4"),f("#microohvideo2").children().attr("src",e),f(".teacherVideo").fadeIn()},this.mobile_code_password_form_submit=function(){f.ajax({cache:!1,type:"POST",url:"/user/password/find/mobile/",data:f("#mobile_code_password_form").serialize(),async:!0,beforeSend:function(){f("#mobile_code_password_btn").html("提交中..."),f("#mobile_code_password_btn").attr("disabled","disabled")},success:function(e){e.mobile_code_f?(f("#mobile_code_password-tips").html(e.mobile_code_f).show(500),f("#id_mobile_code_f").focus()):"success"==e.status&&(account=f("#id_account").val(),code=f("#id_mobile_code_f").val(),location.href="/user/password/reset/"+account+"/"+code)},complete:function(){f("#mobile_code_password_btn").html("提交"),f("#mobile_code_password_btn").removeAttr("disabled")}})};var j=!0;this.show_send_sms=function(e){return f("#forgetpswMobileModal .send-verify,#verify_form .send-verify").html("重发验证码（"+e+"s）").css({background:"#D6D6D6"}).attr("disabled","disabled"),0>=e?(f(".verify-tips.success").hide(500),f("#forgetpswMobileModal .send-verify,#verify_form .send-verify").html("重发验证码").css({background:"#5ECFBA"}).removeAttr("disabled"),j=!0,void 0):(e--,setTimeout("show_send_sms("+e+")",1e3),void 0)},this.send_sms_code=function(){show_send_sms(60);var e=f("#id_mobile_code").val(),t="";(""==e||void 0==e)&&(e=f("#id_mobile_f").val(),t="change"),j&&(f.ajax({cache:!1,type:"POST",url:"/user/register/mobile/sendsms_signup/",data:{mobile:e,geetest_challenge:f(".geetest_challenge").attr("value"),geetest_validate:f(".geetest_validate").attr("value"),geetest_seccode:f(".geetest_seccode").attr("value"),way:t},async:!0,success:function(e){e.mobile?""!=t?f("#mobile_code_password_form_message").css({background:"#f2dede"}).html(e.mobile):f(".verify-tips").removeClass("success").addClass("error").html(e.mobile).show(500):e.captcha?""!=t?f("#mobile_code_password_form_message").css({background:"#f2dede"}).html(e.captcha):f(".verify-tips").removeClass("success").addClass("error").html(e.captcha).show(500):"success"==e.status?""!=t?f("#mobile_code_password_form_message").css({background:"#f2dede"}).html(""):(f(".verify-tips").removeClass("error").addClass("success").html(e.info).show(500),show_send_sms(60)):"failure"==e.status&&(""!=t?f("#mobile_code_password_form_message").css({background:"#f2dede"}).html("请稍后再试"):f(".verify-tips").removeClass("success").addClass("error").html("短信验证码发送失败").show(500))},complete:function(){f("#send-verify").html("重发验证码"),f("#send-verify").removeAttr("disabled")}}),j=!1)};var S=[],M=function(){f(".modal").on("show.bs.modal",function(){for(var e=0;S.length>e;e++)S[e]&&(S[e].modal("hide"),S[e]=null);S.push(f(this));var t=f(this),a=t.find(".modal-dialog"),s=f('<div style="display:table; width:100%; height:100%;"></div>');s.html('<div style="vertical-align:middle; display:table-cell;"></div>'),s.children("div").html(a),t.html(s)}),f(".zy_close").on({click:function(){f(this).parent().parent().parent().parent().parent().modal("hide")}}),f(".toolbar-item-gotop").click(function(){f("html,body").stop().animate({scrollTop:"0px"},800)}),login_popupvar&&c(),f(".globalLoginBtn").on("click",r),f(".top_user .sp").on("click",function(e){e.preventDefault(),e.stopPropagation(),f(".show-card-wrap").toggleClass("in")}),f(document).on("click",function(){f(".show-card-wrap").removeClass("in")}),f(".top_meg").hover(function(){f(this).children(".bubble").show()},function(){f(this).children(".bubble").hide()}),f(".topSreach").click(function(){f(this).parent().parent().toggleClass("sH")}),f(".topSreachTxt,.sreachBBoxTxt").keydown(function(e){13==e.keyCode&&o(f(this).val())}),f(".sreachBBoxBtn").click(function(){o(f(".sreachBBoxTxt").val())}),f(".section1_sreach_txt").keydown(function(e){13==e.keyCode&&o(f(this).val())}),f(".section1_sreach_btn").click(function(){o(f(".section1_sreach_txt").val())}),f(".class53").click(function(){f("#KFLOGO .Lelem").eq(0).trigger("click")}),f(".toolbar-item-weibo>div").hover(function(){},function(){f(this).stop().hide("fast")}),f(".toolbar-item-weibo").click(function(){f(".lixianB").show()}),f(".toolbar-item-weixin").unbind().click(function(){f("#KFLOGO .Lelem").eq(0).trigger("click")});var e=!0;f("#btnForgetpsw").on("click",function(){C&&C.refresh(),e&&(T(".newcaptcha"),e=!1),f("#forgetpswModal").modal("show"),f("#loginModal").modal("hide")}),f("#forgetpswMobileModal .send-verify").click(function(){send_sms_code("verify_form","verify-tips")}),f("#mobile_code_password_btn").click(mobile_code_password_form_submit),f("#login_form").keydown(function(e){13==e.keyCode&&l("login-form-tips")}),f(".globalLogin").on("click",function(){l("login-form-tips")}),f("#find_password_form").keydown(function(e){13==e.keyCode&&h()}),f(".sendE a").click(function(){sendECount=setInterval(zy_Countdown,1e3),f(".zy_success").removeClass("upmove"),f(this).parent().hide(),f(".sendE2").show().find("span").html("60s"),f.ajax({type:"GET",url:"/user/send_again_email",data:{username:f("#id_account_l").val()},dataType:"html",success:function(e){y="验证邮件发送成功",e&&zy_Countdown()},error:function(){y="验证邮件发送失败"}})}),f("#findpassword_btn").click(h)};a.exports={init:M,imgpopup:s,tab:n,cutTimer:i,loading:m,login_popup:c,captcha:T,jg:f},M()}),define("/js/lps4/dist/search",["jquery"],function(e,t,a){function s(){function e(e){var e=e.replace("#","u0023").replace("?","u0022");if(i(".search_result_bg").length>0){var t=i(".search_app").val()?i(".search_app").val():"course";window.location.href="/search/"+t+"/"+e+"-1/"}else window.open("/search/course/"+e+"-1/")}i(".search-btn").click(function(){e(i("#data-search").val()),zhuge.track("搜索次数",{"搜索关键词":i("#data-search").val()})}),i("#data-search").keyup(function(t){var a=t||window.event||arguments.callee.caller.arguments[0];return a&&13==a.keyCode?(e(i(this).val()),void 0):void 0})}var i=e("jquery");if(i(".search_result_bg").length>0){var n=i(".search_app").val()?i(".search_app").val():"course";i(".hot-words a").attr("target","_self"),i("#fLayerdl dd a").attr("target","_self"),i(".hot-words a").attr("href","/search/"+n+"/web前端-1/"),i(".hot-words a:first-child").attr("href","/search/"+n+"/产品经理-1/"),i(".hot-words a:last-child").attr("href","/search/"+n+"/ui-1/")}a.exports={Search:s}}),define("/js/lps4/dist/search",["jquery"],function(e,t,a){function s(){function e(e){var e=e.replace("#","u0023").replace("?","u0022");if(i(".search_result_bg").length>0){var t=i(".search_app").val()?i(".search_app").val():"course";window.location.href="/search/"+t+"/"+e+"-1/"}else window.open("/search/course/"+e+"-1/")}i(".search-btn").click(function(){e(i("#data-search").val()),zhuge.track("搜索次数",{"搜索关键词":i("#data-search").val()})}),i("#data-search").keyup(function(t){var a=t||window.event||arguments.callee.caller.arguments[0];return a&&13==a.keyCode?(e(i(this).val()),void 0):void 0})}var i=e("jquery");if(i(".search_result_bg").length>0){var n=i(".search_app").val()?i(".search_app").val():"course";i(".hot-words a").attr("target","_self"),i("#fLayerdl dd a").attr("target","_self"),i(".hot-words a").attr("href","/search/"+n+"/web前端-1/"),i(".hot-words a:first-child").attr("href","/search/"+n+"/产品经理-1/"),i(".hot-words a:last-child").attr("href","/search/"+n+"/ui-1/")}a.exports={Search:s}}),define("/js/lps4/dist/index",["superSlide","textFiltered"],function(e){function t(){$("#fLayerdl").show(),$("#dd_listbox").hide()}function a(e){e?setTimeout("$('#fLayerdl').hide();",e):$("#fLayerdl").hide()}function s(){$("#dd_listbox").show(),$("#fLayerdl").hide()}function i(e){e?setTimeout("$('#dd_listbox').hide();",e):$("#dd_listbox").hide()}function n(e){$.ajax({url:"http://suggest.maiziedu.com/suggest/?keyword="+e,type:"GET",dataType:"jsonp",jsonp:"callback",success:function(e){var t=[],a=[],i=[],n=[],o=[];if($.each(e,function(e,s){$.each(s.courses,function(e,r){t.push({id:r.id,name:s.name,student_count:r.student_count}),$.each(r.careers,function(e,t){t.student_count&&(-1==o.indexOf(t.name)&&(a.push({name:t.name,short_name:t.short_name,image:t.image,description:t.description,student_count:t.student_count}),o.push(t.name)),$.each(t.teachers,function(e,t){-1==n.indexOf(t.name)&&(i.push({teacher_id:t.teacher_id,name:t.name,title:t.title,image:t.image,info:t.info}),n.push(t.name))}))})})}),0==t.length)return $(".dd_listbox").hide(),void 0;var r="";$(".careercraft").remove(),$.each(t,function(e,t){r='<div class="careercraft"><a target="_blank" href="/course/'+t.id+'/"><p class="pull-left course_info">'+t.name+'</p><p class="pull-right study_count">'+t.student_count+"人正在学习</p></a></div>",$("#course_name_ledg").append(r)}),$(".chcourse").remove(),$.each(a,function(e,t){r='<div class="chcourse"><img src="/uploads/'+t.image+'" class="dd_courseimg img-circle"><a target="_blank" href="/course/'+t.short_name+'-px/" style="outline:none;"><p class="dd_coursedescriname">'+t.name+'</p><p class="radius"><span class="f_radius">毕业学员： <span class="finished_count">'+t.student_count+'</span>人</span></p><p class="dd_coursedescri">'+t.description+"</p>",$("#incld_careers").append(r)}),$(".careerteacher").remove(),$.each(i,function(e,t){r='<div class="careerteacher"><a target="_blank" href="/u/'+t.teacher_id+'/" style="outline:none;"><img src="/uploads/'+t.image+'" class="dd_courseimg img-circle"><p class="courseteacher">'+t.name+'</p><p class="ls">|</p><p class="teachertt">'+t.title+'</p><p class="teacherdes">'+t.info+"</p></a></div>",$("#incld_teachers").append(r)}),$("#data-search").val()&&(0==a.length?($("#dd_csitem").hide(),$("#incld_careers").hide()):($("#dd_csitem").show(),$("#incld_careers").show()),0==i.length?($("#dd_tutor").hide(),$("#incld_teachers").hide()):($("#dd_tutor").show(),$("#incld_teachers").show()),0==t.length?($("#dd_craft").hide(),$("#course_name_ledg").hide()):($("#dd_craft").show(),$("#course_name_ledg").show()),s())}})}function o(){function e(e){var e=e.replace("#","u0023").replace("?","u0022");if($(".search_result_bg").length>0){var t=$(".search_app").val()?$(".search_app").val():"course";window.location.href="/search/"+t+"/"+e+"-1/"}else window.open("/search/course/"+e+"-1/")}$(".search-btn").click(function(){e($("#data-search").val()),zhuge.track("搜索次数",{"搜索关键词":$("#data-search").val()})}),$("#data-search").keyup(function(t){var a=t||window.event||arguments.callee.caller.arguments[0];return a&&13==a.keyCode?(e($(this).val()),void 0):void 0})}function r(){var e=($(document.documentElement)||$(document.body)).width();1349>e?$(".side-bar").hover(function(){$(this).stop().animate({width:"168px"},300),$(".w1920").stop().animate({left:"0"},300)},function(){$(this).stop().animate({width:"33px"},300),$(".w1920").stop().animate({left:"-168px"},300)}):($(".side-menu").removeAttr("style"),$(".side-bar").unbind())}function c(e){e.css("left",($(window).width()-e.outerWidth())/2),e.stop().animate({top:($(window).height()-e.outerHeight())/2+$(window).scrollTop()},300)}function l(){var e=$(".tab_menu li");e.click(function(){$(this).addClass("selected").siblings().removeClass("selected");var t=e.index(this);$("div.tab_box > div").eq(t).show().siblings().hide()})}function d(){var e=($(".job-path"),$(".job-tab span")),t=$(".job-list");e.eq(0).on("click",function(){t.stop().animate({"margin-left":"0px"},500),$(this).addClass("select").siblings().removeClass("select")}),e.eq(1).on("click",function(){t.stop().animate({"margin-left":"-508px"},500),$(this).addClass("select").siblings().removeClass("select")})}e("superSlide"),e("textFiltered")($),$(document).ready(function(){$("#data-search").focus(function(){keywd=$("#data-search").val(),""==keywd?t():n(keywd)}).blur(function(){a(500)}),$("#data-search").keyup(function(){return keywd=$("#data-search").val(),""==keywd?(i(),t(),void 0):(n(keywd),void 0)}).blur(function(){return keywd=$("#data-search").val(),""==keywd?(i(),void 0):(i(500),void 0)})}),o(),$("#data-search").focus(function(){$(".hot-words").fadeOut(300)}),$(".header-search, .search-btn").on("click",function(e){var e=e||event;e.stopPropagation()}),$(document).on("click",function(){$(".hot-words").fadeIn(300)}),l(),r(),$(window).on("resize",function(){r()});var u=$(".video_introduce");u.find("a").on("click",function(){var e=$('<div class="modal-mask"></div>'),t=$('<div class="dialog"><video id="video_introduce" autoplay preload="none" width="100%" height="100%" src="'+$(this).attr("data-href")+'"></video><a class="off" href="javascript: void(null);"></a></div>');$("body").append(e),$("body").append(t),c(t),$(".off").on("click",function(){$(e).remove(),$(t).remove()}),$(window).on("resize scroll",function(){c(t)})}),$(".slide").slide({titCell:".slide-tab",mainCell:".slide-box ul",autoPage:!0,effect:"fade",autoPlay:!0,trigger:"click"}),$(".gold-teacher").slide({titCell:".gold-tab",mainCell:".gold-slide ul",autoPage:!0,effect:"leftLoop",scroll:4,vis:4,trigger:"click"}),$(".cooperate").slide({titCell:".slide-tab",mainCell:".cooperate-slide ul",autoPage:!0,effect:"leftLoop",trigger:"click"});var h=$("#gold-list"),p=500;h.find(".inner-box").hover(function(){$(this).find(".hover-mask, .hover-card").stop().fadeIn(p),$(this).next("h5").animate({opacity:"0"},p),$(this).find(".teach-icon").stop().animate({bottom:"-32px",opacity:"1"},p)},function(){$(this).find(".hover-mask, .hover-card").stop().fadeOut(p),$(this).next("h5").animate({opacity:"1"},p),$(this).find(".teach-icon").stop().animate({bottom:"60px",opacity:"0"},p)});var m=$(".head-container").outerHeight();window.onload=window.onscroll=window.onresize=function(){var e=$(document.documentElement).scrollTop()||$(document.body).scrollTop();e+70>m?$(".hidden-box").stop().animate({height:"0px"},300):$(".hidden-box").stop().animate({height:"70px"},300)},d(),$(".hot-words a").click(function(){zhuge.track("热词推荐"),setTimeout(function(){},500)}),$(".tab_menu li").click(function(){zhuge.track("首页精品课程tab的点击次数",{"事件位置":"精品课程","名称":$(this).text()})}),$("div.tab_box ul li > a").click(function(){zhuge.track("首页精品课程的点击数",{"事件位置":"精品课程","课程名称":$(this).find(".title").text()})}),$(".job-list li").click(function(){zhuge.track("首页职业学习路线",{"事件位置":"职业学习路线","课程名称":$(this).find("h4").text()})})}),define("/js/lps4/dist/signUP",[],function(e,t,a){function s(e,t,a,s,d){o=e,i=t,n=a,r=s,c=d,l()}var i,n,o,r,c,l=function(){$("#email_register_form").keydown(function(e){13==e.keyCode&&r()}),$(".sign-left .form-control").focus(function(){$(this).next("label").css({transform:"translateY(-18px)"})}),$(".sign-left .form-control").blur(function(){""==$(this).val()?$(this).next("label").css({transform:"translateY(0px)"}):$(this).next("label").css({color:"#5ECFBA"})});var e=$(".sign-tabs li"),t=!0,a=!0,s=0;t&&(o(".tab-pane.active .captcha1","mobile/"),t=!1),e.on("click",function(){$(this).addClass("active").siblings().removeClass("active"),$(".tab-pane.active .captcha").siblings(".v_sign_tips").removeClass("error").html("").show(500),$("label[for=mobile_code]").siblings(".m_sign_tips").removeClass("error success").html("").show(500),$("label[for=password_m]").siblings(".p_sign_tips").removeClass("error success").html("8-20位，区分大小写，不支持空格").show(500),$("label[for=email]").siblings(".e_sign_tips").removeClass("error success").html("").show(500),$("label[for=password]").siblings(".e_sign_tips").removeClass("error success").html("8-20位，区分大小写，不支持空格").show(500);var r=e.index(this);t&&0==r&&(o(".tab-pane.active .captcha1","mobile/"),t=!1),a&&1==r&&(o(".tab-pane.active .captcha2","email/"),a=!1),i&&(s>18&&window.location.reload(),s++,i.refresh()),n&&(s>18&&window.location.reload(),s++,n.refresh()),$("#verify_form").hide().siblings("#mobile_register_form").show(),$("#email_form").hide().siblings("#email_register_form").show(),""!=$(".active .form-control").val()&&$(".form-control").val("").next("label").css({transform:"translateY(0px)",color:"#999999"}),$(".tab-content .tab-pane").eq(r).addClass("active").siblings().removeClass("active")}),$("#id_mobile_code").on("blur keyup",function(){var e=$(this).val(),t=$("label[for=mobile_code]"),a=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/g;null==e||""==e?t.siblings(".m_sign_tips").removeClass("success").addClass("error").html("请输入你的手机号").show(500):a.test(e)?t.siblings(".m_sign_tips").removeClass("error").addClass("success").html("").show(500):a.test(e)||t.siblings(".m_sign_tips").removeClass("success").addClass("error").html("手机号码格式不正确").show(500)}),$("#id_password_m").on("blur keyup",function(){var e=$("label[for=password_m]");null==$(this).val()||""==$(this).val()?e.siblings(".p_sign_tips").removeClass("success").addClass("error").html("请输入密码").show(500):8>$(this).val().length?e.siblings(".p_sign_tips").removeClass("success").addClass("error").html("8-20位，区分大小写，不支持空格").show(500):e.siblings(".p_sign_tips").removeClass("error").addClass("success").html("").show(500)}),$("#id_email").on("blur keyup",function(){var e=$(this).val(),t=$("label[for=email]"),a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;null==e||""==e?t.siblings(".e_sign_tips").removeClass("success").addClass("error").html("请输入你的邮箱").show(500):a.test(e)?t.siblings(".e_sign_tips").removeClass("error").addClass("success").html("").show(500):a.test(e)?t.siblings(".e_sign_tips").removeClass("error").addClass("success").html("").show(500):t.siblings(".e_sign_tips").removeClass("success").addClass("error").html("注册账号需为邮箱格式").show(500)
}),$("#id_password").on("blur keyup",function(){var e=$("label[for=password]");null==$(this).val()||""==$(this).val()?e.siblings(".e_sign_tips").removeClass("success").addClass("error").html("请输入密码").show(500):8>$(this).val().length?e.siblings(".e_sign_tips").removeClass("success").addClass("error").html("8-20位，区分大小写，不支持空格").show(500):e.siblings(".e_sign_tips").removeClass("error").addClass("success").html("").show(500)}),$(".sign-left .btn-micv5").click(function(){r($(this).attr("typeF"))}),$("#send-verify").click(function(){c.send_sms_code("verify_form","verify-tips")}),$("#email_form .sendE a").unbind().click(function(){sendECount=setInterval(zy_Countdown,1e3),$(".zy_success").removeClass("upmove"),$(this).parent().hide(),$(".sendE2").show().find("span").html("60s"),$.ajax({type:"GET",url:"/user/send_again_email",data:{username:$("#id_email").val()},dataType:"html",success:function(e){zy_str="验证邮件发送成功",e&&zy_Countdown()},error:function(){zy_str="验证邮件发送失败"}})})};a.exports={init:s}}),define("/js/lps4/dist/newCouse",["./videojs","videocss","videojs1","./bxslider.js","bxsliderCss","bxslider","dynamics"],function(e,t,a){function s(){window.innerWidth?h=window.innerWidth:document.body&&document.body.clientWidth&&(h=document.body.clientWidth),window.innerHeight?p=window.innerHeight:document.body&&document.body.clientHeight&&(p=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(p=document.documentElement.clientHeight);var e=document.getElementById("section1");e&&(e.style.height=p-64+"px");var t=document.getElementById("videobg");if(e&&t)if(1920/1080>h/(p-64)){t.style.height=p+"px";var a=(p-64)*(1920/1080);t.style.width=a+"px",t.style.left=-(a-h)/2+"px",t.style.top="0px"}else{var s=.5625*h;t.style.height=s+"px",t.style.width="100%",t.style.left="0px",t.style.top=-(s-p+64)/2+"px"}}function i(e){m=e,x()}function n(){var e=parseInt($(this).attr("n"));$(".teacherVideoClose").attr("n",e),_.goToSlideN(e),$(this).addClass("aH").siblings().removeClass("aH"),$(".section5_bottom").removeClass("lookVideo"),$(".teacherVideo").fadeOut(),v.pause()}function o(e){$(".section5 .div>p").eq(0).html(e.attr("pt")),$(".section5 .div>p").eq(1).html(e.attr("en")),$(".section5 .div>p").eq(2).html(e.attr("pc")),$(".section5 .div>p").eq(3).attr("hp",e.attr("hp"))}function r(e){o(e)}function c(){o($(".bxslider2>li").eq(0))}function l(){f.pause(),$("#VideoDemo").modal("hide")}function d(){f.pause()}function l(){f.pause(),$("#VideoDemo").modal("hide")}function d(){f.pause()}function u(){$("#svg2 circle").attr("stroke-dasharray","848 848");var e=$("#svg1 circle");e.eq(0).attr("stroke-dasharray","5 5"),e.eq(1).attr("stroke-dasharray","1099 1099"),e.eq(2).attr("stroke-dasharray","917 917");var t=$("#svg1 .g circle"),a=$("#svg1 .g text");dynamics.setTimeout(function(){t.eq(0).attr("r",5)},1e3),dynamics.setTimeout(function(){t.eq(1).attr("r",5)},1100),dynamics.setTimeout(function(){t.eq(2).attr("r",5)},1200),dynamics.setTimeout(function(){a.eq(0).css("opacity",1)},1e3),dynamics.setTimeout(function(){a.eq(1).css("opacity",1)},1e3),dynamics.setTimeout(function(){a.eq(2).css("opacity",1)},1e3)}var h,p;s(),function(e){var t={model:"overlying",adaptiveHeightSpeed:500,startSlide:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};e.fn.superposition=function(a){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).superposition(a)}),this;var s={},i=this;e(window).width(),e(window).height();var n=i.children().length,o=function(){s.settings=e.extend({},t,a),s.viewport=e(i),s.oldIndex=s.settings.startSlide,i.css({position:"relative",overflow:"hidden"});var n=i.children();n.each(function(){e(this).css({position:"absolute",top:"0",left:"0","z-index":1})}),n.eq(0).css("z-index","2"),c(),s.settings.onSliderLoad(s.oldIndex),e(window).bind("resize",l)};i.goToSlideN=function(e){r(e,"next")},i.goToSlideNnext=function(){r(s.oldIndex+1,"next")},i.goToSlideNprev=function(){r(s.oldIndex-1,"prev")};var r=function(e,t){if(s.oldIndex!=e){e>=n?e=0:0>e&&(e=n-1);var a=s.viewport.children().eq(e);s.settings.onSlideBefore(a,s.oldIndex,e),"next"==t?s.settings.onSlideNext(a,s.oldIndex,e):"prev"==t&&s.settings.onSlidePrev(a,s.oldIndex,e),s.viewport.children().css({"z-index":1}).eq(s.oldIndex).css({"z-index":2}),a.css({top:i.height()+"px","z-index":3}).stop().animate({top:"0"},s.settings.adaptiveHeightSpeed,function(){s.settings.onSlideAfter(a,s.oldIndex,e)}),s.oldIndex=e}},c=function(){var t=s.viewport.children().eq(s.settings.startSlide);t.css({"z-index":3}),d(t.children("img").attr("src"),function(){e(i).height(e(i).width()*(this.height/this.width)),s.vImg=this})},l=function(){e(i).height(e(i).width()*(s.vImg.height/s.vImg.width))},d=function(e,t){var a=new Image;return a.src=e,a.complete?(t.call(a),void 0):(a.onload=function(){t.call(a)},void 0)};return o(),this}}(jQuery);var m,f,v,g=!0;e("./videojs"),e("./bxslider")($),e("dynamics");var _,f,v,b,w=function(e){$(".bxslider>li").eq(e).children("div").removeClass("moveLeft")},y=function(e,t){e.children("div").removeClass("moveLeft"),setTimeout(function(){e.parent().children().eq(t).children("div").addClass("moveLeft")},1e3)},x=function(){function e(){0>=o.offsetTop-a.offsetTop-a.scrollTop?a.scrollTop-=i.offsetHeight:a.scrollTop++}videojs.options.flash.swf="js/lib/v/video-js.swf";var t=30,a=document.getElementById("raffle_boxR_gun"),i=document.getElementById("ul1"),o=document.getElementById("ul2");o.innerHTML=i.innerHTML;var h=setInterval(e,t);a.onmouseover=function(){clearInterval(h)},a.onmouseout=function(){h=setInterval(e,t)},window.onresize=function(){s()},f=videojs("microohvideo",{controls:!0,playbackRates:[1,1.25,1.5,2]}),v=videojs("microohvideo2",{controls:!0,playbackRates:[1,1.25,1.5,2]}),$(".bxslider").bxSlider({mode:"fade",onSlideAfter:y,onSliderLoad:w}),$(window).keyup(function(e){32==e.keyCode&&(v.isFullScreen()&&(v.paused()?v.play():v.pause()),f.isFullScreen()&&($("#microohvideo").focus(),f.paused()?f.play():f.pause()))}),v.on("fullscreenchange",function(){}),_=$(".bxslider2").superposition({mode:"overlying",onSlideAfter:r,onSliderLoad:c}),$(".section5_bottom a").click(n),$(".videoArrow").unbind().click(function(){m.openVideo2($(this).parent().attr("hp")),$(".section5_bottom").addClass("lookVideo"),v.play()}),$(".jobs_list li > div .p2 a").unbind().click(function(){m.openVideo($(this).attr("pt")),f.play()}),$(".zy_VideoDemo .close").unbind().click(l),$("#VideoDemo").on("hide.bs.modal",d),$(".teacherVideoClose").click(n),$(".newCousebox2_menu").hover(function(){dynamics.clearTimeout(b)},function(){g&&$(this).children("li").removeClass("liold liC")}),$(".newCousebox2_menu li").click(function(){g?($(this).addClass("liC").siblings().removeClass("liC"),$(this).parent().children(".liH").addClass("liold")):$(this).addClass("click").siblings().removeClass("click")}),$(".newCousebox2_con a").click(function(){$(".newCousebox2_con").hide(),$(".newCousebox2_conTwo").show(),dynamics.setTimeout(function(){$(".newCousebox2_conTwo .g1").removeClass("downGO")},200),dynamics.setTimeout(function(){$(".newCousebox2_conTwo .g2").removeClass("downGO")},600),dynamics.setTimeout(u,1200)}),$(window).scroll(function(){$(this).scrollTop()>=$(window).height()?($(".newCousebox2_menu").addClass("Ceiling"),g=!1,$(".newCousebox2_menu li").removeClass("click"),$(".newCousebox2_menu li.liH").length>0&&$(".newCousebox2_menu li.liH").addClass("liold"),$(".newCousebox2_menu li>.div2").hide(),dynamics.setTimeout(function(){$(".newCousebox2_menu li>.div2").show()},600)):($(".newCousebox2_menu").removeClass("Ceiling"),g=!0,$(".newCousebox2_menu li").removeClass("liold"))});var p=$("#user_center_course_record").val();"true"==p&&$("#interestCourse").modal("show");var x,k,C=0;x=$("#interestCourse .modal-body li"),k=$("#interestCourse .modal-footer span"),k.click(function(){pages=parseInt((x.length-1)/6),pages>C?C++:C=0,x.hide().slice(6*C,6*(C+1)).fadeIn()}),6>=x.length&&k.unbind("click")};a.exports={init:i}}),define("/js/lps4/dist/videojs",["videocss","videojs1"],function(e){return function(){e("videocss"),e("videojs1")}}),define("/js/lps4/dist/bxslider",["bxsliderCss","bxslider"],function(e){return function(t){e("bxsliderCss"),e("bxslider")(t)}}),define("/js/lps4/dist/bxslider",["bxsliderCss","bxslider"],function(e){return function(t){e("bxsliderCss"),e("bxslider")(t)}}),define("/js/lps4/dist/broadcastM",["select"],function(e,t,a){function s(){n()}function i(e){var t=$(".cs_select").val();$.ajax({type:"GET",url:"/lps3/ea/living/ajax_living_page/?edu_admin_id="+t+"&step="+e,dataType:"html",success:function(e){$("#living_content").html(e)},error:function(){console.error("service data error")}})}function n(){$(".cs_select").iSimulateSelect({width:178,height:0,selectBoxCls:"cs_info_selectD",optionCls:"cs_info_selectD_Op"}),$(".cs_select").change(function(){var e=$(this).children("[selected]").html();$(".selectEND span").html(e)});var e=!0;$("#living_content").on({click:function(){var t=$(this).attr("class_meeting_id"),a=$(this).attr("class_id"),s=$(this);e&&(e=!1,$.ajax({type:"GET",url:"/lps3/ea/living/ajax_living_attendance/"+a+"/"+t+"/",dataType:"html",success:function(s){$("#attendance").html(s),$("#attendance").attr({class_id:a,class_meeting_id:t}),$("#attendance").modal("show"),$(".zy_newclose").unbind().click(function(){$(".modal").modal("hide")}),e=!0},beforeSend:function(){s.css({pointerEvents:"none"})},complete:function(){s.css({pointerEvents:"auto"})}}))}},".broadcastList>li .hover[class_meeting_id]"),$("#attendance").on("click",".reload",function(){var e=$("#attendance").attr("class_meeting_id"),t=$("#attendance").attr("class_id");$.ajax({type:"GET",url:"/lps3/ea/living/ajax_living_attendance/"+t+"/"+e+"/"+"?update=true",dataType:"html",success:function(e){$("#attendance").html(e),$(".zy_newclose").unbind().click(function(){$(".modal").modal("hide")})},beforeSend:function(){},complete:function(){}})}),$(".sManage_Sel_sreach_btn").on({click:function(){i(0)}}),$("#living_content").on({click:function(){i(parseInt($(this).attr("p"),10))}},".broadcast_tit a")}e("select")($),a.exports={init:s}}),define("/js/lps4/dist/classM",["multiselect","textFiltered","uiwidget","fileupload","mousewheel","jscrollpane"],function(e,t,a){function s(e,t){t=t||{},c(t)}function i(e,t){h=t,r()}function n(e,t){p=t,r()}function o(e,t){m=t,r()}function r(){function e(e,t,a){for(var s=0;t.length>s;s++)if(e.indexOf($(t[s]).attr(a))>-1)return!0;return!1}var t=1;$(".sManage_table .people").remove(),d.each(function(a,s){var i=s;(0==h.length||h.indexOf(i.find("[class-state]").attr("class-state"))>-1)&&(0==p.length||p.indexOf(i.find("[class-specialty]").attr("class-specialty"))>-1)&&(0==m.length||e(m,i.find("[class-tearcher]"),"class-tearcher"))&&(i.children().eq(0).html(t),t++,$(".sManage_table").append(i))})}function c(t){function a(e){e.textFiltered({onkeyup:function(){var t=this,a=!1;$.ajax({type:"GET",url:"/lps3/ea/common/get_teachers/",data:{s:t.val()},beforeSend:function(){},success:function(s){t.clear();for(var i=0;s.length>i;i++)t.addNode(s[i][0],s[i][1]),s[i][1]==t.val()&&(e.parents(".teacher").find(".tpl input").val(s[i][0]),$("#teacherManage input[name=addteacher]").val(s[i][0]),a=!0)},complete:function(){}}),a||e.parents(".teacher").find(".tpl input").val(""),$("#teacherManage input[name=addteacher]").val("")},height:180,onarrowupdown:function(){},onVclick:function(t){this.data("vv",t),e.parents(".teacher").find(".tpl input").val(t),$("#teacherManage input[name=addteacher]").val(t)}})}function s(){$("#teacherManage tr:even td").css("background-color","#eee")}function r(){$("#teacherManage tr:odd td").css("background-color","#fff")}function c(){$("#teacherManage .tearcherSreach ").val(""),$("#teacherManage input[name=addteacher]").val("")}function h(e){$.ajax({type:"GET",url:"/lps3/ea/classes/get_class_teachers/",data:{s:e},beforeSend:function(){},success:function(e){if(e.status){for(var t=e.message,a=0;t.length>a;a++)M='<tr class="list"><td class="teacherNum"><span>教师'+(a+1)+'</span><input type="hidden" name="addTeacherv'+(a+1)+'" value="'+t[a][0]+'"></td>'+'<td class="teacherName">'+t[a][1]+"</td>"+'<td><span class="del">删除</span></td>'+"</tr>",$("#teacherManage table").append(M);s(),r()}},complete:function(){}})}var p=new Map,m=new Map,f=new Map,v=[],g=[],_=[];$(".sManage_table .people").each(function(){p.put($(this).children("[class-state]").attr("class-state"),0),m.put($(this).children("[class-specialty]").attr("class-specialty"),0),$(this).children(".teacherName").children("[class-tearcher]").each(function(){f.put($(this).attr("class-tearcher"),0)})}),p.each(function(e){v.push(e)}),m.each(function(e){g.push(e)}),f.each(function(e){_.push(e)}),$(".zy_newclose,.zy_classMeg_btn>.a2").click(function(){$(".modal").modal("hide")}),$(".zy_classMeg_btn>.a1").click(function(){var e=$(this).attr("classid").split("_");$.ajax({type:"GET",url:"/lps3/ea/classes/update_state/",data:{e:e[1],i:e[2]},beforeSend:function(){},success:function(){location.reload()},complete:function(){}})}),new GySetDate({targets:"#year1,#month2,#day3",range:l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate()+",2030-09-21",value:""}),$(".sManage_table .people").each(function(e,t){d.put(e,$(t))}),$(".modal").on("show.bs.modal",function(e){var t=e.relatedTarget.getAttribute("data-meg");if(t){var a=t.split("_"),s=$(".zy_classMeg>p");s.eq(0).html("班级编号 "+a[0]),s.eq(1).html(u[a[1]]),s.eq(2).children().eq(0).attr("classid",t)}}),$(".deanframecreatebtn").click(function(){for(var e,t,a,s,i=$(this),n=$("#createClassForm input[name=career_course]").val(),o=[],r=$("#createClassForm input[name=edu_admin]").val(),c=$("#createClassForm input[name=qq_group]").val(),l=$("#createClassForm input[name=key_group]").val(),d=$("#createClassForm input[name=image]").val(),u=$("#createClassForm .teachInfo .teacher").length,h=0;u>h;h++)o[h]=$("#createClassForm .teachInfo .teacher").eq(h).find(".tpl input").val();for(x in o)(""==o[x]||"-1"==o[x])&&(e=!1,a=parseInt(x)+1);s=o.sort();for(var h=0;o.length>h;h++)s[h]==s[h+1]&&(t=!1);return""==n.replaceAll(" ","")||"-1"==n.replaceAll(" ","")?(i.next().height(30).html("*请选择专业"),void 0):0==e?(i.next().height(30).html("*请选择教师"+a),void 0):0==t?(i.next().height(30).html("*教师重复，请重新选择"),void 0):""==r.replaceAll(" ","")||"-1"==r.replaceAll(" ","")?(i.next().height(30).html("*请选择教务"),void 0):""==c.replaceAll(" ","")?(i.next().height(30).html("*请输入班级群号"),void 0):""==l.replaceAll(" ","")?(i.next().height(30).html("*请输入群Key值"),void 0):""==d.replaceAll(" ","")?(i.next().height(30).html("*请上传班级群二维码"),void 0):(i.next().height(0).html(""),$.ajax({type:"POST",url:"/lps3/ea/classes/create_class/",data:$("#createClassForm").serialize(),dataType:"json",beforeSend:function(){i.attr("disabled","disabled")},success:function(e){e.status?location.reload():i.next().height(30).html(e.message)},complete:function(){i.removeAttr("disabled")}}),void 0)});var b=v||[],w=v.concat()||[],y=g||[],k=g.concat()||[],C=_||[],T=_.concat()||[];$(".multiselect1").multiselect({model:"multiplechoice",height:350,arrayname:b,arrayvalue:w,selectvalue:"全部",onSelect:i}),$(".multiselect2").multiselect({model:"multiplechoice",height:350,arrayname:y,arrayvalue:k,selectvalue:"全部",onSelect:n}),$(".multiselect3").multiselect({model:"multiplechoice",height:350,arrayname:C,arrayvalue:T,selectvalue:"全部",onSelect:o}),$(".sManage_Seltxt").textFiltered({onkeyup:function(){var e=this,t=!1;$.ajax({type:"GET",url:"/lps3/ea/common/get_eduadmins/",data:{s:e.val()},beforeSend:function(){},success:function(a){e.clear();for(var s=0;a.length>s;s++)e.addNode(a[s][0],a[s][1],a[s][2]),a[s][1]==e.val()&&(e.data("vv",a[s][0]),t=!0)},complete:function(){}}),t||e.removeData("vv")},height:360,onarrowupdown:function(){},onVclick:function(e){this.data("vv",e)},onload:function(){t.newid&&this.data("vv",t.newid)}}),$(".csSreach").textFiltered({onkeyup:function(){var e=this,t=!1,a=$("#createClassForm input[name=career_course]");$.ajax({type:"GET",url:"/lps3/ea/common/get_career_courses/",data:{s:e.val()},beforeSend:function(){},success:function(s){e.clear();for(var i=0;s.length>i;i++)e.addNode(s[i][0],s[i][1],s[i][2]),s[i][1]==e.val()&&(a.val(s[i][0]),t=!0)},complete:function(){}}),t||a.val("")},height:180,onarrowupdown:function(){},onVclick:function(e,t){this.data("vv",e);var a=t.toUpperCase()+$("#createClassForm #year1").val()+$("#createClassForm #month2").val()+$("#createClassForm #day3").val();$("#numberS").html(a),$("#createClassForm input[name=class_no]").val(a).data("v2",t),$("#createClassForm input[name=career_course]").val(e)}}),$(".selectTime select").change(function(){var e=$("#createClassForm input[name=class_no]").data("v2");if(e){var t=e.toUpperCase()+$("#createClassForm #year1").val()+$("#createClassForm #month2").val()+$("#createClassForm #day3").val();$("#createClassForm input[name=class_no]").val(t),$("#numberS").html(t)}}),a($(".tearcherSreach")),$(".deanSreach").textFiltered({onkeyup:function(){var e=this,t=!1;$.ajax({type:"GET",url:"/lps3/ea/common/get_eduadmins/",data:{s:e.val()},beforeSend:function(){},success:function(a){e.clear();for(var s=0;a.length>s;s++)e.addNode(a[s][0],a[s][1]),a[s][1]==e.val()&&($("#createClassForm input[name=edu_admin]").val(a[s][0]),t=!0)},complete:function(){}}),t||$("#createClassForm input[name=edu_admin]").val("")},height:180,onarrowupdown:function(){},onVclick:function(e){this.data("vv",e),$("#createClassForm input[name=edu_admin]").val(e)}});var j=0;$(".sManage_Sel_sreach_btn").click(function(){var e=$("#deanClassTxt").data("vv");if(e&&"-1"!=e)location.href=changeURLPar(location.href.split("?")[0],"b",e);else{var t=$(this).next();j>2?t.css({opacity:1}).html("请到下拉框中选择"):t.css({opacity:1}).html("条件错误，请重新查询"),setTimeout(function(){t.css({opacity:0})},2e3),j++}}),e("mousewheel"),e("jscrollpane");var S=0,M="";$("#createClass,#teacherManage").jScrollPane({mouseWheelSpeed:100}),$("#createClass .teachInfo").on({click:function(){$("#createClass").jScrollPane({mouseWheelSpeed:100})}},"em"),$("#createClass .teachInfo").on({click:function(){var e=$(this).parent(".teacher").index(),t=$(".teachInfo .teacher").length-2;$(this).parent("li").remove();for(var a=e;t>=a;a++)$(".teachInfo .teacher").eq(a).find(".tpl span").html("教师"+(a+1)),$(".teachInfo .teacher").eq(a).find(".tpl input").attr("name","teacher"+(a+1))}},".del"),$("#createClass .add").on("click",function(){S=$("#educational").index()+1;var e=$("#createClassForm .teachInfo .teacher").eq(S-2).find(".tpl input").val();return S>10?(console.log("对不起，最多只能添加10个老师"),void 0):""==e.replaceAll(" ","")||"-1"==e.replaceAll(" ","")?($("#createClassForm .teachInfo .teacher").eq(S-2).find(".showmoew input").focus(),void 0):(M='<li class="teacher"><label class="tpl"><span>教师'+S+'</span><input type="hidden" name="teacher'+S+'"></label>'+'<span class="showmoew" style="margin-left:4px;"><input type="text" class="deanframetxt createClassTxt tearcherSreach" placeholder="输入教师姓名搜索" ></span>'+'<em class="del" style="margin-left:8px;">删除</em>'+"</li>",$("#educational").before(M),a($("#createClassForm .teachInfo li").eq(S-1).find(".tearcherSreach")),void 0)}),$(".createClass").on("click",function(){$(".eduadminBoxBg").fadeIn(),$("#createClass").stop().animate({right:"0"})}),$("#createClass .zy_newclose").on("click",function(){$(".eduadminBoxBg").fadeOut(),$("#createClass").stop().animate({right:"-450px"})}),$("#QRupload").fileupload({url:"/home/settings/avatar/upload/",dataType:"json",autoUpload:!0,add:function(e,t){var a=[],s=/^(png|jpg|jpeg)$/i;Ntype=t.originalFiles[0].name.split(".")[1],s.test(Ntype)?$(".file>span").html("更改"):($("#createClass .showFile img").attr("src","/images/createClassQRImg.png"),a.push("Not an accepted file type")),0==a.length&&t.submit()},done:function(e,t){if(t=t.result,t.success){var a=t.data.img_url;$("#QRurl").val(a),$("#createClass .showFile img").attr("src",a)}}});var B;$(".sManage_table").on({click:function(){B=$(this).attr("class_id"),$("#teacherManage table .list").remove(),h(B),$(".eduadminBoxBg").fadeIn(),$("#teacherManage").stop().animate({right:"0"})}},".teacherManage"),$("#teacherManage .zy_newclose").on("click",function(){$(".eduadminBoxBg").fadeOut(),$("#teacherManage").stop().animate({right:"-450px"})}),s(),$("#teacherManage .table").on({click:function(){var e=$(this).parents("tr").index(),t=$("#teacherManage .table .list").length-1;$(this).parents("tr").remove();for(var a=e;t>=a;a++)$("#teacherManage .table .list").eq(a-1).find(".teacherNum span").html("教师"+a),$("#teacherManage .table .list").eq(a-1).find(".teacherNum input").attr("name","addTeacherv"+a);s(),r(),$("#teacherManage").jScrollPane({mouseWheelSpeed:100})}},".del"),$("#teacherManage .addBox").on({click:function(){var e=$("#teacherManage .table .list").length+1,t=$("#teacherManage .tearcherSreach ").val(),a=$("#teacherManage input[name=addteacher]").val(),i=$("#teacherManage .errorFF"),n=!0,o=[],l=$("#teacherManage .table .list").length;if(e>10)return console.log("对不起，最多只能添加10个老师"),c(),void 0;if(""==a||"-1"==a)return i.height(30).html("*教师选择错误或不存在！"),c(),void 0;for(var d=0;l>d;d++)o[d]=$("#teacherManage .table .list").eq(d).find("input").val(),a==o[d]&&(n=!1);return 0==n?(i.height(30).html("*教师重复，请重新选择"),c(),void 0):(i.height(0).html(""),M='<tr class="list"><td class="teacherNum"><span>教师'+e+'</span><input type="hidden" name="addTeacherv'+e+'" value="'+a+'"></td>'+'<td class="teacherName">'+t+"</td>"+'<td><span class="del">删除</span></td>'+"</tr>",$("#teacherManage table").append(M),s(),r(),c(),$("#teacherManage").jScrollPane({mouseWheelSpeed:100}),void 0)}},".add"),$(".deanframemanagebtn").click(function(){var e=$(this);$.ajax({type:"POST",url:"/lps3/ea/classes/update_class_teachers/"+B+"/",data:$("#manageForm").serialize(),beforeSend:function(){e.attr("disabled","disabled")},success:function(t){t.status?location.reload():e.next().height(30).html(t.message)},complete:function(){e.removeAttr("disabled")}})})}e("multiselect")($),e("textFiltered")($),e("uiwidget")($),e("fileupload")($);var l=new Date,d=new Map,u={ce:"确认关闭报名?",oe:"确认开启报名?",graduation:"确认毕业？"},h=[],p=[],m=[];a.exports={init:s}}),define("/js/lps4/dist/newCouseD",["PicCarousel","./bxslider.js","bxsliderCss","bxslider"],function(e,t,a){function s(){u()}function i(){var e=parseInt($(this).attr("n"));c.goToSlide(e),$(this).addClass("aH").siblings().removeClass("aH")}function n(e){$(".section5 .div>p").eq(0).html(e.attr("pt")),$(".section5 .div>p").eq(1).html(e.attr("en")),$(".section5 .div>p").eq(2).html(e.attr("pc")),$(".section5 .div>p").eq(3).attr("hp",e.attr("hp"))}function o(e){n(e)}function r(){n($(".bxslider2>li").eq(0))}e("PicCarousel")($),e("./bxslider")($);var c,l=!0,d=function(){var e=parseInt($(this).height())+parseInt($(this).scrollTop()),t=parseInt($(this).scrollTop()),a=parseInt($(".aboutlessonBox4").offset().top)+500;a>=t&&e>=a&&l&&(l=!1,$(".aboutlessonBox4").hasClass("original")?$(".aBox4Div").addClass("HH"):$(".aboutlessonBox4 .poster-list").attr("ppt")?$(".aboutlessonBox4Div").PicCarousel({width:1e3,height:560,posterWidth:304,posterHeight:540,scale:.8,speed:500,autoPlay:!1,delay:1e3,verticalAlign:"middle"}):$(".aboutlessonBox4Div").PicCarousel({width:1200,height:450,posterWidth:680,posterHeight:430,scale:.9,speed:500,autoPlay:!1,delay:1e3,verticalAlign:"bottom"}))},u=function(){c=$(".bxslider2").bxSlider({mode:"horizontal",pager:!1,controls:!1,onSlideAfter:o,onSliderLoad:r,infiniteLoop:!1}),$(".section5_bottom a").hover(i,function(){}),$(window).bind("scroll",d),$(".aboutlessonBox4 .poster-list").attr("ppt")||$(".aboutlessonBox4 .poster-item").css({marginLeft:"-329px",width:"658px"}),$(".section5 .div .videoArrow").unbind().click(function(){th.openVideo($(this).parent().attr("hp"))}),$(".aboutlessonFoot > div > a").click(function(){var e=$(this).attr("href");return $("html,body").stop().animate({scrollTop:$(e).offset().top+"px"},800),!1}),$(".footNewBox2").css("marginBottom","80px"),"True"==$("#pm").val()&&$("#pop_pm2npm_window").modal({show:!0,keyboard:!1,backdrop:"static"})};a.exports={init:s},is_authenticated&&$(".topRight .a").eq(1).click(function(){zhuge.track("登录",{"事件位置":"课程介绍页"})}),$(".topSreachTxt").keyup(function(){13==event.keyCode&&zhuge.track("搜索",{"事件位置":"课程介绍页","搜索关键词":$(this).val()})}),$(".top_menu li").click(function(){zhuge.track("导航栏",{"事件位置":"课程介绍页","导航栏名称":$(this).find("span").text()})}),$(".top_menu_div a").click(function(e){e.stopPropagation(),zhuge.track("企业直通班",{"事件位置":"课程介绍页","课程":$(this).text()})}),$(".topRight .a").eq(0).click(function(){zhuge.track("注册",{"事件位置":"课程介绍页"})}),$(".aboutlessonBox1Btn a").click(function(){zhuge.track($(this).text(),{"事件位置":"课程介绍页"})}),$(".aLessonBtn").click(function(){zhuge.track($(this).text(),{"事件位置":"课程介绍页"})}),$(".toolbar a").eq(0).click(function(){zhuge.track("在线客服",{"事件位置":"课程介绍页"})}),$(".toolbar a").eq(1).click(function(){zhuge.track("课程介绍页_免费通话",{"事件位置":"课程介绍页"})}),$(".toolbar-item-fankui").click(function(){zhuge.track("意见反馈",{"事件位置":"课程介绍页"})}),$(".aboutlessonFoot a,.aboutlessonFoot_a1,.aboutlessonFoot_a2").click(function(){zhuge.track($(this).text(),{"事件位置":"课程介绍页"})})}),define("/js/lps4/dist/statisticsL",["radio","Validform"],function(e,t,a){function s(){i()}function i(){$(".statisticsRadio").statisticsRadio();var e=$("#ques_info_save").Validform({btnSubmit:"#id_save_post",ajaxPost:!0,tiptype:function(e,t){var a="error";"radio"==t.obj.attr("type")?(t.obj.parent().parent().find(".validform").remove(),2!=t.type&&t.obj.parent().parent().append("<span class='validform "+a+"'>"+e+"</span>")):t.obj.hasClass("statisticsTxt")&&(t.obj.parent().find(".validform").remove(),2!=t.type&&t.obj.parent().append("<span class='validform "+a+"'>"+e+"</span>"))},beforeCheck:function(){},beforeSubmit:function(){$("#id_save_post").attr("disabled","disabled")},callback:function(e){"failure"==e.status?$("#get_data").text(e.msg).addClass("bg-danger").addClass("tips-error").fadeIn().delay(3e3).fadeOut():$("#get_data").text(e.msg).addClass("bg-success").addClass("tips-error").fadeIn().delay(3e3).fadeOut(function(){window.location.href=$("#ques_info_save").attr("tourl")})}});e.resetForm()}e("radio")($),e("Validform")($),a.exports={init:s}}),define("/js/lps4/dist/statisticsM",["select","textFiltered","multiselect"],function(e,t,a){function s(e,t){var t=t||{};r(t)}function i(e,t){c=t,o()}function n(e,t){l=t,o()}function o(){function e(e,t,a){for(var s=0;t.length>s;s++)if(e.indexOf($(t[s]).attr(a))>-1)return!0;return!1}var t=1;$(".sManage_table .people").remove(),d.each(function(a,s){var i=s;(0==c.length||c.indexOf(i.find("[class-specialty]").attr("class-specialty"))>-1)&&(0==l.length||e(l,i.find("[class-tearcher]"),"class-tearcher"))&&(i.children().eq(0).html(t),t++,$(".sManage_table").append(i))})}function r(e){var t=new Map,a=new Map,s=[],o=[];$(".sManage_table .people").each(function(){t.put($(this).children("[class-specialty]").attr("class-specialty"),0),$(this).children(".teacherName").children("[class-tearcher]").each(function(){a.put($(this).attr("class-tearcher"),0)})}),t.each(function(e){s.push(e)}),a.each(function(e){o.push(e)}),$(".sManage_table .people").each(function(e,t){d.put(e,$(t))}),$(".ssMore").hover(function(){var e=$(this);if(0>=e.children(".ssMorediv").length){var t="";t+='<div class="ssMorediv"><i></i>',t+="<p><span>1.授课语言准确，清晰流畅，通俗易懂</span> 5分</p>",t+="<p><span>2.授课思路敏捷、逻辑性强、条理清晰</span> 4分</p>",t+="<p><span>3.语速控制适当，声音洪亮、富有激情</span> 5分</p>",t+="</div>",e.append(t)}e.children(".ssMorediv").show()},function(){$(this).children(".ssMorediv").hide()}),$(".sManage_Seltxt").textFiltered({onkeyup:function(){var e=this,t=!1;$.ajax({type:"GET",url:"/lps3/ea/common/get_eduadmins/",data:{s:e.val()},beforeSend:function(){},success:function(a){e.clear();for(var s=0;a.length>s;s++)e.addNode(a[s][0],a[s][1]),e.val()==a[s][1]&&(e.data("vv",a[s][0]),t=!0)},complete:function(){}}),t||e.removeData("vv")},height:360,onarrowupdown:function(){},onVclick:function(e){this.data("vv",e)},onload:function(){e.newid&&this.data("vv",e.newid)}});var r=s||[],c=s.concat()||[],l=o||[],u=o.concat()||[];$(".multiselect2").multiselect({model:"multiplechoice",height:350,arrayname:r,arrayvalue:c,selectvalue:["全部","全部"],onSelect:i}),$(".multiselect3").multiselect({model:"multiplechoice",height:350,arrayname:l,arrayvalue:u,selectvalue:["全部","全部"],onSelect:n});var h=0;$("#eduadmin_det").click(function(){var e=$("#deanClassTxt").data("vv"),t=changeURLPar(location.href.split("?")[0],"year",$("#year_value").val());t=changeURLPar(t,"month",$("#month_value").val()),t=changeURLPar(t,"eu_id",e);var a=$(this).next();e&&"-1"!=e?location.href=t:(h>2?a.css({opacity:1}).html("请到下拉框中选择"):a.css({opacity:1}).html("条件错误，请重新查询"),setTimeout(function(){a.css({opacity:0})},2e3),h++)})}e("select")($),e("textFiltered")($),e("multiselect")($);var c=[],l=[],d=new Map;a.exports={init:s}}),define("/js/lps4/dist/studentM",["select","multiselect","textFiltered"],function(e,t,a){function s(e,t){f(t)}function i(){d=!0;var e=1;$(".sManage_table .people").remove(),l=l.quickSort();for(var t=0;l.length>t;t++){var a=c.get(""+l[t]);(0==u.length||u.indexOf(a.find("[pay-state]").attr("pay-state"))>-1)&&(0==h.length||h.indexOf(a.find("[learning-state]").attr("learning-state"))>-1)&&(a.children().eq(0).html(e),e++,$(".sManage_table").append(a))}}function n(){d=!1;var e=1;$(".sManage_table .people").remove(),l=l.quickSort();for(var t=l.length-1;t>-1;t--){var a=c.get(""+l[t]);(0==u.length||u.indexOf(a.find("[pay-state]").attr("pay-state"))>-1)&&(0==h.length||h.indexOf(a.find("[learning-state]").attr("learning-state"))>-1)&&(a.children().eq(0).html(e),e++,$(".sManage_table").append(a))}}function o(e,t){u=t,d?i():n()}function r(e,t){h=t,d?i():n()}e("select")($),e("multiselect")($),e("textFiltered")($);var c=new Map,l=[],d=!0,u=[],h=[],p=this,m={ct:"/change/",ls:"/quit/",ds:"/pause/"},f=function(e){e=e||{},$th=this,p.userV=new UserVail("vail"),$(".modal").on({click:function(){$(".modal").modal("hide")}},".zy_newclose");var t,a=new Map,s=new Map,d=[],u=[];$(".sManage_table .people").each(function(){a.put($(this).children("[pay-state]").attr("pay-state"),0),s.put($(this).children("[Learning-state]").attr("Learning-state"),0)}),a.each(function(e){d.push(e)}),s.each(function(e){u.push(e)}),$(".sManage_table").on({click:function(){t=$(this).attr("sid").split("_");var e=$(this);$.ajax({type:"GET",url:"/lps3/ea/students/"+t[1]+"_"+t[2]+m[t[0]],dataType:"html",success:function(e){$("#leaveschool").html(e),$("#leaveschool").modal("show")},error:function(){},beforeSend:function(){e.css({pointerEvents:"none"})},complete:function(){e.css({pointerEvents:"auto"})}})}},".operation>a[data-target]"),$("#leaveschool").on({click:function(){var e=$(this),a=e.next();return p.userV.get("toclass")&&!/^[ ]+$/.test(p.userV.get("toclass"))||p.userV.get("remark")&&!/^[ ]+$/.test(p.userV.get("remark"))?p.userV.get("remark").length>100?(a.removeClass("megRight").addClass("megError").html("不能多余100字"),a.width(134),void 0):($.ajax({type:"POST",url:"/lps3/ea/students/"+t[1]+"_"+t[2]+m[t[0]],data:$("#leaveschoolForm").serialize(),dataType:"json",success:function(e){e.status?(a.removeClass("megError").addClass("megRight").html(e.message),setTimeout(function(){location.reload()},1e3)):a.removeClass("megRight").addClass("megError").html(e.message),a.width(134),setTimeout(function(){a.width(0)},4e3)},error:function(){a.removeClass("megError").addClass("megRight").html("系统错误"),setTimeout(function(){location.reload()},1e3)},beforeSend:function(){e.attr("disabled","disabled")},complete:function(){e.removeAttr("disabled")}}),void 0):(a.removeClass("megRight").addClass("megError").html("不能为空"),a.width(134),void 0)}},".deanframebtn"),$(".sm_select").change(function(){$("#deanClassTxt").val("")}),$(".sm_select").iSimulateSelect({width:148,height:0,selectBoxCls:"sm_info_selectD",optionCls:"sm_info_selectD_Op"}),$(".sManage_table").on({mouseenter:function(){$(this).parent().css("zIndex",3),$(this).children(".tstage_child").show()
},mouseleave:function(){$(this).parent().css("zIndex",2),$(this).children(".tstage_child").hide()}},".tstage>div"),$(".sManage_table .people").each(function(e,t){c.put($(this).children("[ttime]").attr("ttime"),$(t)),l.push(parseInt($(this).children("[ttime]").attr("ttime"),10))});var h=d||[],f=d.concat()||[],v=u||[],g=u.concat()||[];$(".multiselect2").multiselect({model:"multiplechoice",height:350,arrayname:h,arrayvalue:f,selectvalue:"全部",onSelect:o}),$(".multiselect3").multiselect({model:"multiplechoice",height:350,arrayname:v,arrayvalue:g,selectvalue:"全部",onSelect:r}),$(".multiselect1").multiselect({onSelect:function(e,t){1==t?i():n()}}),$(".sManage_Seltxt").textFiltered({onkeyup:function(){var e=this,t=!1;$.ajax({type:"GET",url:"/lps3/ea/common/get_classes/",data:{e:$("#lps4dean").val(),s:e.val()},beforeSend:function(){},success:function(a){e.clear();for(var s=0;a.length>s;s++)e.addNode(a[s][0],a[s][1]),a[s][1]==e.val()&&(e.data("vv",a[s][0]),t=!0)},complete:function(){}}),t||e.removeData("vv")},height:360,onarrowupdown:function(){},onVclick:function(e){this.data("vv",e)},onload:function(){e.newid&&this.data("vv",e.newid)}});var _=0;$("#deanClassBtn").click(function(){var e=$("#deanClassTxt").data("vv");if(e&&"-1"!=e)location.href=changeURLPar(location.href.split("?")[0],"c",e);else{var t=$(this).next();_>2?t.css({opacity:1}).html("请到下拉框中选择"):t.css({opacity:1}).html("条件错误，请重新查询"),setTimeout(function(){t.css({opacity:0})},2e3),_++}}),$("#deanClassBtn2").click(function(){var e=$("#deanClassTxt2").val().replaceAll(" ","");if(""!=e){var t=changeURLPar(location.href.split("?")[0],"q",e);t=changeURLPar(t,"e",$("#lps4dean").val()),location.href=t}})};a.exports={init:s}}),define("/js/lps4/dist/lessonVideoLists",[],function(e,t,a){function s(){i()}var i=function(){var e=$(".footer-ad"),t=$(".tab_menu li span");t.on("click",function(){$(this).parent().addClass("active").siblings().removeClass("active");var e=t.index(this);$(".tab_box > div").eq(e).show().siblings().hide()}),e.find("i").on("click",function(){e.hide()})};a.exports={init:s}}),define("/js/lps4/dist/lessonVideo",["jquery","videojs2","mousewheel","jscrollpane","global","cookie","uiwidget","fileupload","layerCss","layerjs","./feedbackBox.js","bootstrap","./main","function","./search.js"],function(e,t,a){function s(){u()}e("jquery"),e("videojs2"),e("mousewheel"),e("jscrollpane"),e("global"),e("cookie"),e("uiwidget")($),e("fileupload")($),e("layerCss"),e("layerjs"),e("./feedbackBox");var i,n,o,r=e("./main").login_popup,c=e("videojs2").startPause,l=$("video"),d=l[0],u=function(){function t(){return"True"==$("#this_user").val()}function a(){return"True"==$("#is_paid").val()}function s(){return"True"==$("#need_pay").val()}function u(){return $("ul.video_part_lists li").index($("ul.video_part_lists li.liH"))+1}function h(){R=$("#just_pay"),R.hasClass("in")||R.modal({show:!0,keyboard:!1,backdrop:"static"})}function p(e){$.cookie("pop_career_no_longer_remind_flag",e,{expires:365,path:"/course/"})}function m(){return $.cookie("pop_career_no_longer_remind_flag")}function f(){return $("#if_have_career_course").val()}function v(){var e=Math.ceil(d.currentTime);if($.cookie("lesson_"+$("#lesson_id").val(),e),e&&"True"==$("#this_user").val()){var t=$("#video_length").val();1==L&&$("#class_id").val().length>0&&e/t>$("#video_exam_complete").val()&&(L=!1,$.get("/lps3/student/ajax/item_lesson/update/"+$("#user_item").val()))}}function g(){var e=$(".video_part_lists li.liH").next();return Boolean(e.length)}function _(){var e=$(".video_part_lists li.liH").next();window.location=e.children().get(0).href}function b(e,t){$(e).jScrollPane({mouseWheelSpeed:t})}function w(){if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)&&($(".zvideo").height($(window).height()-164),$(".playlist").height($(window).height()-108),$(".playlist2").height($(window).height()-123),$(".playlist3").height($(window).height()-123),$(".all-questions, .my-questions").height($(window).height()-158),$(".one-question-view").height($(window).height()-117),b(".playlist, .playlist2, .playlist3, .all-questions, .my-questions, .one-question-view",100),O)){var e=parseInt($(".zvrightSreen").css("right"),10);0==e?$(".zvideo_index").width($(window).width()-480):$(".zvideo_index").width($(window).width()-138),H=$(window).width()-138}}function y(){K.val(""),mt="",x()}function x(){K.stop(!0).animate({width:"300px"},400),K.css({"background-color":"#333",padding:"0 7px",color:"#999"}),J.stop(!0).animate({width:"72px","margin-right":"10px","font-size":"12px",opacity:"1","border-width":"1px"}),at.css({opacity:0}),st.css({opacity:0,"z-index":-1}),Z.stop(!0).animate({width:"0",overflow:"hidden"},400),X.stop(!0).animate({width:"0",height:"0","line-height":"0","font-size":"0",opacity:"0"},200),et.stop(!0).animate({width:"0",height:"0","line-height":"0","font-size":"0",opacity:"0"},200)}function k(e,t,a){var s="";return s+="<li>",s+='<i id="'+a+'" class="remove-img"></i>',s+='<img _src="'+e+'" src="'+t+'" height="120" width="120"/>',s+="</li>"}function C(e){for(var t="",a=0;e.length>a;a++)t+=k(e[a][1],e[a][0],a);ot.html(""),ot.append(t),ot.append(V),ot.find("li").length>4&&ot.find("li.last").hide().prev().css("margin-right",0),$(".remove-img").on("click",function(){$(this).parent().remove();var e=$(this).attr("id");4>=ot.find("li").length&&ot.find("li.last").show().prev().css("margin-right","20px"),ht.splice(e,1)}),$("#uploadPreview").fileupload({url:"/common/img/upload/",dataType:"json",autoUpload:!0,add:function(e,t){var a=[],s=/^(png|jpg|jpeg)$/i,i=t.originalFiles[0].size/1024;Ntype=t.originalFiles[0].name.split("."),Ntype=Ntype[Ntype.length-1],s.test(Ntype)||(lt.text("图片格式不正确！").css({color:"#F01400"}),a.push("Not an accepted file type"),setTimeout(function(){lt.html(ut).css({color:"#666"})},2e3)),parseInt(i)>500&&(lt.text("文件超过500KB大小！").css({color:"#F01400"}),a.push("Filesize is too big"),setTimeout(function(){lt.html(ut).css({color:"#666"})},2e3)),0==a.length&&t.submit()},done:function(e,t){void 0!=t.result.data.result.img_url&&void 0!=t.result.data.small_result.img_url&&ht.push([t.result.data.small_result.img_url,t.result.data.result.img_url]),C(ht)}})}function T(e){return(e+"").replace(/[^\x00-\xff]/g,"aa").length}function j(e){var t=$("#target").offset(),a=$('<div id="boll" class="boll"></div>');a.fly({start:{left:e.pageX,top:e.pageY},end:{left:t.left+10,top:t.top+10},onEnd:function(){this.destory()}})}function S(){if(!t())return!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录"),!1;var e=$(".reply-total");e.unbind(),e.on({click:function(){bt.css("margin-left","-360px"),qt.css("bottom",0),Ft=$(this).parents("li").find(".last_id").val(),zt=Ft,It=$(this).parents("li").find(".answer_user_id").val(),Rt=$(this).parents("li").find(".answer_nick_name").val(),Et="回复"+$.trim(Rt)+":",qt.find("textarea").attr({placeholder:Et})}})}function M(){Mt.on("click",function(){var e=$("textarea").val();$(this).off(),Pt(yt,Ft,zt,e,It,Rt)})}function B(){if(!t())return!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录"),!1;var e=$(this).text();e=e.split(":");for(var a=0,s=0;e.length>s;s++)a+=parseInt(e[s])*Math.pow(60,e.length-1-s);d.currentTime=a}function q(){var e=$(".zyleve1>li,.zvrightSreen .d-task-list li.last");e.each(function(t,a){if($(a).hasClass("liH")){var s=e.eq(t+1);if(s.find("a").attr("href")){var i=s.find("a").attr("hid_href");i&&(location.href=i)}else s.find("a").trigger("click")}})}$(".ldFeedback a").mouseover(function(){$(this).siblings(".feedboxTip").stop().slideDown(150).animate({opacity:"1"},400)}),$(".feedboxTip .closed").click(function(){$(this).parent().stop().animate({opacity:"0"},250).slideUp(500)}),t()||!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录");var F=$(".check_box"),z=$(".video_part_lists li"),I=$("#check_lesson_lists"),R=$("#just_pay"),E=0,P=s(),D=a(),A=m()||!1,L=!0;z.each(function(){return E++,$(this).hasClass("need_pay")?!1:void 0}),I.on("click",".close",function(){I.modal("hide")}),R.on("click",".close",function(){R.modal("hide")}),F.on("click",function(){$(this).hasClass("in")?(p(!1),$(this).removeClass("in")):(p(!0),$(this).addClass("in"))}),setInterval(function(){if(!d.paused){var e=$("#course_id").val(),t=$("#lesson_id").val();$.get("/v4/append_study_info?course_id="+e+"&lesson_id="+t)}},6e4),$(".vjs-error-display").html('<div><img src="/images/refresh.png">&nbsp;&nbsp;视频加载失败，请<a onclick="location.reload();" style="cursor: pointer;">刷新重试</a></div>'),$("#microohvideo").append($(".videoStopMeg"));var N=$.cookie("lesson_"+$("#lesson_id").val());"null"!=N&&N||(N=0),l.ready(function(){d.currentTime=N,setInterval(function(){v()},1e3),l.on("play",function(){if(D=!0,t()){if(3==u()&&s()&&!a()&&f())return d.currentTime>60&&P&&D&&(D=!1,c(),h()),setInterval(function(){d.currentTime>60&&P&&D&&(D=!1,c(),h())},1e3),!1;if(u()>3&&s()&&!a()&&f())return P&&D&&(D=!1,c(),h()),!1}else c(),!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录")}),l.on("ended",function(){A||$("#ad").val()||$("#is_paid").val()||!I.hasClass("in")&&0>=$(".modal-backdrop").length&&I.modal("show"),$.cookie("lesson_"+$("#lesson_id").val(),null)})}),$(".VSMbtn1").on("click",function(){t()?(d.pause(),d.paused&&(c(),L=!0)):!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录")}),$(".d-task-list>li>div").unbind().on("click",function(){$(this).parent().hasClass("activeH")?$(this).parent().removeClass("activeH"):$(this).parent().addClass("activeH"),w()}),w(),$(".zvright a").on("click",function(){O=!1,$(this).hasClass("aH")?($(this).removeClass("aH"),$(".zvrightSreen").css("right","-360px"),$(".zvideo_index").width(H),$(this).parent().css("right",0)):(0==$(".zvright a.aH").length&&($(".zvrightSreen").css("right",0),$(".zvideo_index").width(H-360),$(this).parent().css("right","360px")),$(this).addClass("aH").siblings().removeClass("aH")),$(".zvrightSreen > div").hide(),$(".zvrightSreen"+$(this).attr("num")).show(),w(),setTimeout(function(){O=!0},600)}),$(window).resize(function(){w()}),$(".VSMbtn").on("click",".VSMbtn2",function(){if(g())_();else{d&&d.cancelFullScreen();var e=$(".zvright a").eq(0);e.hasClass("aH")||e.trigger("click")}}),t()||$(".zvrightSreen3 a").each(function(){$(this).on("click",function(){!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录")})}),i=$(".video_part_lists li.liH a").find(".col_l").text(),n=$(".zyleve1 li.liH a").attr("title"),$(".zyNewVideo_top .s").html(i||n);var O=!0,H=$(".zvideo_index").width(),V="<li class='last'><span class='font14 color66 uploadPreview'><i class='add-screenshot-img'></i><input type='file' name='image' accept='image/*' multiple id='uploadPreview'><span class='add-img-msg font14 color66'>添加图片</span></span></li>",W=$(".bottom-module"),U=$(".tiwen-con"),G=$(".user"),Q=$(".share"),Y=$(".down-load"),K=($(".message-wrap"),$(".text-msg")),J=$(".alt-ta"),Z=$(".btn-box"),X=$(".tiwen-btn"),et=$(".cancel-btn"),tt=$(".current"),at=$(".current-time"),st=$(".upload-con"),it=$(".upload-img"),nt=$("#insert-img"),ot=$("#insert-img-list"),rt=$(".cancel-insert-btn"),ct=$(".insert-img-btn"),st=$(".upload-con"),lt=$(".msg"),dt=[U,nt,$(".questions-top a"),$(".questions-bottom .share"),$(".question-current span")],ut=lt.html(),ht=[],pt=[],mt="";K.keyup(function(e){e.stopPropagation()}),$(document).on("click",function(){K.val().length>0&&mt.length!=K.val().length&&(mt=K.val()),K.val("").attr("placeholder","输入您的问题，大家一起来解答"),x()}),K.focus(function(){at.text(tt.text()).css({opacity:1}),d.paused||c(),J.stop(!0).animate({width:"0","margin-right":"0","font-size":"0",opacity:"0","border-width":"0"}),$(this).stop(!0).animate({width:W.outerWidth()-Q.outerWidth()-Y.outerWidth()-G.outerWidth()-130+"px"},400),$(this).css({"background-color":"#fff",padding:"0 130px 0 50px",color:"#333"}),0==$(this).val().length&&$(this).val(mt),st.css({opacity:1,"z-index":10}),Z.stop(!0).animate({width:"108px",overflow:"auto"},600),X.stop(!0).animate({width:"44px",height:"26px","line-height":"26px","font-size":"12px",opacity:"1"},800),et.stop(!0).animate({width:"44px",height:"26px","line-height":"26px","font-size":"12px",opacity:"1"},800)});for(var ft=0;dt.length>ft;ft++)dt[ft].on("click",function(e){e.stopPropagation()});et.on("click",y),X.on("click",function(e){if(t()){for(var a=$("#insert-img-list img"),s=[],i=[],n=0;a.length>n;n++){var o=a.eq(n).attr("_src"),c=a.eq(n).attr("src");o&&c&&(o=o.split("/uploads/")[1],c=c.split("/uploads/")[1],s.push(o),i.push(c))}var l={discuss_location:kt,object_id:yt,object_name:xt,comment:K.val(),object_content:$(".message-wrap .current-time").text(),material_arr:s,small_material_arr:i},d=Math.ceil(T($(".text-msg").val()));""==K.val()?layer.tips("请输入您的问题。",K,{tips:[1,"#5ECFBA"],time:4e3}):d>1e3?layer.tips("输入超过1000字，请重新输入。",K,{tips:[1,"#5ECFBA"],time:4e3}):"teacher"==$("#group_name").val()?layer.tips("对不起，老师不能提问。",K,{tips:[1,"#5ECFBA"],time:4e3}):(j(e),$.ajax({url:"/common/question_post/",data:l,dataType:"json",type:"POST",success:function(e){var t=$(".all-questions, .my-questions");"success"==e.status&&(t.each(function(e,t){0==$(t).find("ul").length&&($(t).find(".no-answer").remove(),$(t).children().children().html('<ul></ul><a class="load-more">加载更多</a>'))}),t.find("ul").prepend(e.html),ot.html(""),ot.append(V),Dt(),S()),mt=""}}),y(),pt=[],ht=[],st.children(".pin").remove())}else!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录")}),it.on("click",function(){lt.html(ut).css({color:"#666"}),ot.html(""),ht=pt,C(ht),nt.modal("show")}),ct.on("click",function(){nt.modal("hide"),pt=ht,ht=[],st.children(".pin").remove(),pt.length>0&&st.prepend('<span class="pin"></span>')}),rt.on("click",function(){lt.html(ut).css({color:"#666"}),nt.modal("hide"),ht=[],0==pt.length&&st.children(".pin").remove()});var vt=$(".tab-nav li"),gt=$(".tab-box > div"),$t=$(".all-questions"),_t=$(".my-questions"),bt=($(".all-questions-lists"),$(".questions-box")),wt=$("#back-questions"),yt=($(".reply-total"),$(".object_id").val()),xt=($(".class_id").val(),$(".object_name").val()),kt=$(".discuss_location").val(),Ct=!1;vt.on("click",function(){if(!t())return!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录"),!1;var e=$(this).index();$(this).addClass("active").siblings().removeClass("active"),gt.eq(e).show().siblings().hide(),b(".all-questions, .my-questions",100)});var Tt=function(e){return t()?(b(".one-question-view",100),bt.css("margin-left","-360px"),$t.css("opacity",0),_t.css("opacity",0),e=isNaN(e)?$(this).find(".last_id").val():e,Lt(e),void 0):(!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录"),!1)};$(function(){if(window.location.search.length>0){var e=window.location.search.split("="),t=e[e.length-1];$(".zvright a").eq(1).trigger("click"),Ct=!0,Tt(t)}}),$(".all-questions, .my-questions").on({click:Tt},"li"),wt.on("click",function(){bt.css("margin-left","0"),$t.css("opacity",1),_t.css("opacity",1)}),o=e("./main").imgpopup;var jt=null;$(".one-question-view").on({click:function(e){e.stopPropagation(),jt=$(this).attr("_src"),o(jt)}},".questions-img img");var St,Mt,Bt,qt,Ft,zt,It,Rt,Et;St=$(".reply-btn"),Mt=$(".submit-reply-btn"),Bt=$(".reply-msg"),qt=$(".reply-textarea"),Ft=null,zt=null,It=null,Rt=null,Et=null,qt.find("textarea").keyup(function(e){e.stopPropagation()}),$(document).on("click",".reply-btn",function(){$(".reply-textarea").css("bottom",0),$(this).parent().hasClass("reply-date")?(Ft=$(this).parents(".right").siblings(".left").find(".last_id").val(),zt=$(this).parents(".right").siblings(".left").find(".problem_id").val(),It=$(this).parent().parent().parent().siblings(".left").find(".answer_user_id").val(),Rt=$(this).parent().parent().parent().siblings(".left").find(".answer_nick_name").val(),Et="回复"+$.trim(Rt)+":"):(Ft=$(this).parent().siblings(".last_id").val(),zt=Ft,It=$(this).parent().siblings(".answer_user_id").val(),Rt=$(this).parent().siblings(".answer_nick_name").val(),Et="回复"+$.trim(Rt)+":"),qt.find("textarea").attr({placeholder:Et})}),S(),M();var Pt=function(e,t,a,s,i,n){var o="";""==s?(o=$("<span>请输入回复内容！</span>"),$(".submit-reply-btn").before(o),setTimeout(function(){o.remove()},2e3)):$.ajax({url:"/common/answer_post/",data:{object_id:e,parent_id:t,problem_id:a,comment:s,answer_user_id:i,answer_nick_name:n},dataType:"json",type:"POST",success:function(e){"success"==e.status?(e.parent_id==e.problem_id?$(".question-lists").prepend(e.html):$("#answer_"+e.parent_id).after(e.html),$(".reply-textarea").css("bottom","-180px").find("textarea").val(""),$(".one-question-view .load-more").text("没有更多"),$(".one-question-view").jScrollPane({mouseWheelSpeed:100})):(o=$("<span>"+e.msg+"</span>"),$(".submit-reply-btn").before(o),setTimeout(function(){o.remove()},2e3)),M()}})},Dt=function(){var e=$(".good");e.unbind(),e.on({click:function(e){if(!t())return!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录"),!1;e.stopPropagation();var a=$(this),s=a.parent().siblings(".last_id").val();a.children("small"),$.ajax({url:"/home/s/ajax_praise/",method:"POST",dataType:"json",data:{problem_id:s},success:function(e){if(e.success){var t=e.data.action,a=e.data.praise_count;$(".last_id").each(function(){var e=$(this),i=e.parent().find(".good");if(e.val()==s){var n=$(i).children("small");"mark"==t?(n.html(a),i.addClass("jia-good")):"cancel"==t&&(n.html(a),i.removeClass("jia-good"))}})}else if(401==e.code)return!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("登录状态已过期！"),!1}})}})};Dt(),$(".reply-cancel").on("click",function(){$(".reply-textarea").css("bottom","-180px")}),$(".load-more").on("click",function(){var e=null,t=null,a=null;$(this).parents(".scroll-pane").hasClass("one-question-view")?(e=$(this).siblings().find(".questions-reply").last().find(".last_id").val(),a=$(this).siblings().find(".questions-reply").last().find(".problem_id").val(),t=$(this).siblings().find(".question-lists")):(e=$(this).siblings().children().last().find(".last_id").val(),a=$(this).siblings().children().last().find(".object_id").val(),t=$(this).siblings());var s=$(this).parents(".scroll-pane").attr("class").split(" ")[0],i=s.split("-")[0];At(a,e,s,i,t)});var At=function(e,a,s,i,n){return t()?($.ajax({url:"/common/"+i+"_more/"+e+"/"+a+"/",dataType:"html",type:"GET",success:function(e){"failed"==$.parseJSON(e).status?$("."+s+" .load-more").text("没有更多").off("click"):n.append($.parseJSON(e).html),$(".all-questions, .my-questions, .one-question-view").jScrollPane({mouseWheelSpeed:100}),Dt()}}),void 0):(!$("#loginModal").hasClass("in")&&0>=$(".modal-backdrop").length&&r("请先登录"),!1)},Lt=function(e){$.ajax({url:"/common/one_more/"+e+"/0/",dataType:"html",type:"GET",success:function(t){$(".one-question-view li").empty().append($.parseJSON(t).html),0==$.parseJSON(t).has_answer?$(".one-question-view .load-more").text("暂无回答"):$(".one-question-view .load-more").text("加载更多"),$(".one-question-view").jScrollPane({mouseWheelSpeed:100}),Dt(),1==Ct&&($(".one-question-view .question-current span").trigger("click"),Ct=!1),$.getScript("http://v3.jiathis.com/code/jia.js?uid=1680508"),jiathis_config={data_track_clickback:!0,shortUrl:!1,hideMore:!1,url:window.location.origin+"/u/"+$(".answer_user_id").val()+"/discuss/?p_id="+e,summary:"我正在麦子学院学习"+$(document).attr("title")+",赶快和我一起来感受神奇的在线学习方式吧！——麦子学院，在线学习好工作。",title:$(".one-question-view .question-title").text()}}})};$(".one-question-view").on({click:B},".question-current span"),$(".question-current span").on({click:B}),$(".play-next-control,.VSMbtn2").on("click",function(){var e=$(".zvright a").eq(0);if(e.hasClass("aH")||e.trigger("click"),$("#class_id").val())q();else{var t=$(".video_part_lists .liH").next().children().attr("href");t?window.location.href=t:alert("没有下一节")}});var Nt={};$(".show-remark").on({click:function(){$.ajax({type:"GET",url:$("#questionnaire_url").val(),dataType:"json",success:function(e){1==e.success?window.location.href=$("#next_url").val():($("#satisfy-examen").html(e.data.html).modal({show:!0,keyboard:!1,backdrop:"static"}),$(".satisfy-list li").each(function(){$(this).find("label").click(function(){$(this).parent().addClass("now").siblings().removeClass("now"),$(this).addClass("select").parent().siblings().children().removeClass("select");var e=$(this).parent().parent().siblings().attr("id"),t=$(this).attr("value"),a=$(this).text();Nt[e]='{"'+t+'":"'+a+'"}'})}),$(".button-group").on({click:function(){$.ajax({type:"POST",url:$("#submit_url").val(),data:Nt,dataType:"json",success:function(e){"success"==e.msg?window.location.href=$("#next_url").val():"fail"==e.msg?$(".modal-content .err_msg").text(e.data).show().fadeOut(8e3,$("#satisfy-examen").modal("hide")):$(".modal-content .err_msg").text(e.data).show().fadeOut(3e3)}})}},".submit"))}})}}),$("#satisfy-examen").on({click:function(){window.location.href=$("#next_url").val()}},".next-time")};!function(e){e.fly=function(t,a){var s={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:e.noop},i=this,n=e(t);i.init=function(e){this.setOptions(e),!!this.settings.autoPlay&&this.play()},i.setOptions=function(t){this.settings=e.extend(!0,{},s,t);var a=this.settings,i=a.start,o=a.end;n.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=o.width&&null!=o.height&&e.extend(!0,i,{width:n.width(),height:n.height()});var r=Math.min(i.top,o.top)-Math.abs(i.left-o.left)/3;a.vertex_Rtop>r&&(r=Math.min(a.vertex_Rtop,Math.min(i.top,o.top)));var c=Math.sqrt(Math.pow(i.top-o.top,2)+Math.pow(i.left-o.left,2)),l=Math.ceil(Math.min(Math.max(Math.log(c)/.05-75,30),100)/a.speed),d=i.top==r?0:-Math.sqrt((o.top-r)/(i.top-r)),u=(d*i.left-o.left)/(d-1),h=o.left==u?0:(o.top-r)/Math.pow(o.left-u,2);e.extend(!0,a,{count:-1,steps:l,vertex_left:u,vertex_top:r,curvature:h})},i.play=function(){this.move()},i.move=function(){var t=this.settings,a=t.start,s=t.count,i=t.steps,o=t.end,r=a.left+(o.left-a.left)*s/i,c=0==t.curvature?a.top+(o.top-a.top)*s/i:t.curvature*Math.pow(r-t.vertex_left,2)+t.vertex_top;if(null!=o.width&&null!=o.height){var l=i/2,d=o.width-(o.width-a.width)*Math.cos(l>s?0:(s-l)/(i-l)*Math.PI/2),u=o.height-(o.height-a.height)*Math.cos(l>s?0:(s-l)/(i-l)*Math.PI/2);n.css({width:d+"px",height:u+"px","font-size":Math.min(d,u)+"px"})}n.css({left:r+"px",top:c+"px"}),t.count++;var h=window.requestAnimationFrame(e.proxy(this.move,this));s==i&&(window.cancelAnimationFrame(h),t.onEnd.apply(this))},i.destory=function(){n.remove()},i.init(a)},e.fn.fly=function(t){return this.each(function(){void 0==e(this).data("fly")&&e(this).data("fly",new e.fly(this,t))})}}(jQuery),a.exports={init:s}}),define("/js/lps4/dist/feedbackBox",["uiwidget","fileupload","bootstrap","./main","jquery","function","./search.js"],function(e){e("uiwidget")($),e("fileupload")($),e("bootstrap")($),e("./main").captcha(".feedbackcaptcha"),$(function(){function e(){$("#feedbakBox .subminBtn").addClass("disable").attr("disabled","disabled")}function a(){$("#feedbakBox .subminBtn").removeClass("disable").removeAttr("disabled")}$("#feedback_content,#telphone").keyup(function(e){e.stopPropagation()}),$("#feedbakBox").on("hidden.bs.modal",function(){t()}),$("#feedbackfade").click(function(){$("#feedbakBox").modal("show")}),$("#feedbakBox .zy_close").click(function(){$(this).parents("#feedbakBox").modal("hide")}),$("#feedbakBox input[type=tel],#feedbakBox textarea").keyup(function(){a(),$(this).siblings("em").hide()}),$("#feedbakBox input[type=file],#feedbackBox #telphone,#feedbakBox textarea").blur(function(){""==$("#feedbakBox input[type=file]").val()&&""==$("#feedbakBox #telphone").val()&&""==$("#feedbakBox textarea").val()&&e()}),$("#feedback_type").blur(function(){""==!$("#feedback_type").val()&&(a(),$(this).siblings("em").hide())}),$(".feedbackcaptcha").on("mousedown",$(".gt_slider_knob"),function(){$(".feedbackcaptcha").parent().siblings("em").hide(),a()});var s,i,n;$("#feedbakBox .subminBtn").click(function(){s=$("#feedbakBox textarea").val(),i=$("#feedbakBox #telphone").val();var t=/^0?1[3|4|5|7|8][0-9]\d{8}$/;return""==$("#feedback_type").val()?($("#selectError").show(),e(),void 0):""==s?($("#feedbakBox #textareaError").show(),e(),void 0):t.test(i)===!1||""==i?($("#feedbakBox #telError").show(),e(),void 0):$(".feedbackcaptcha .gt_ajax_tip").hasClass("success")?(feedback_submit(),console.log($("#feedback_type").val()),void 0):($(".feedbackcaptcha").parent().siblings("em").show(),e(),void 0)}),$("#feedbakBox textarea").keyup(function(){n=$("#feedbakBox textarea").val().length,$("#feedbakBox .textareaBox span em").html(200-n),$(this).parent().siblings("em").hide()});var o=$(".fileerrorTip"),r=o.html();$("#feedbackupload").fileupload({url:"/common/feedback/image_upload/",dataType:"json",autoUpload:!0,add:function(t,s){var i=[],n=/^(png|jpg|jpeg)$/i,c=s.originalFiles[0].size/1024;Ntype=s.originalFiles[0].name.split(".")[1],n.test(Ntype)?(o.html("").hide(),$("#feedbakBox .showFileName").html(s.originalFiles[0].name),$(".file>span").html("重新上传"),a()):($("#feedbakBox .showFileName").html(""),o.html("支持图片格式：png、jpg、jpeg").show(),i.push("Not an accepted file type"),e(),setTimeout(function(){o.html(r)},2e3)),parseInt(c)>500&&(o.html("文件超过500KB大小！").show(),i.push("Filesize is too big"),e(),setTimeout(function(){o.html(r)},2e3)),0==i.length&&s.submit()},done:function(e,t){var a=t.result.image_url;$("#hideen_image_url").val(a)}})});var t=function(){$("input[type=reset]").trigger("click"),$(".feedbackcaptcha").empty(),e("./main").captcha(".feedbackcaptcha",""),$("#hideen_image_url").val(""),$("#feedbakBox .showFileName").html(""),$(".file>span").html("上传图片")}});var feedback_submit=function(){var e={feedback_type:$("#feedback_type option:selected").val(),feedback_content:$("#feedback_content").val(),contact:$("#telphone").val(),image_url:$("#hideen_image_url").val(),current_url:window.location.href};$.ajax({type:"post",url:"/common/feedback/save/",dataType:"json",data:e,success:function(){$("#feedbakBox").modal("hide"),$("#feedbakBoxSuccess").modal("show"),setTimeout(function(){$("#feedbakBoxSuccess").modal("hide")},2e3)}})};define("/js/lps4/dist/articleList",[],function(e,t,a){function s(){i()}var i=function(){};a.exports={init:s}}),define("/js/lps4/dist/articleDetail",["./main","jquery","function","bootstrap","./search.js"],function(e,t,a){function s(){n()}var i=e("./main").login_popup,n=function(){function e(){var e=$(".praise-btn"),t=s(),n=!0;e.on("click",function(){a()?($(this).addClass("good"),n&&($.ajax({type:"POST",url:"/common/ajax/like/article",data:{article_id:t},success:m,complete:function(){e.addClass("disabled_praise")}}),n=!1)):i()})}function t(e){return UE.getEditor(e,{toolbars:[["insertcode","simpleupload","emotion"]],autoClearinitialContent:!0,autoFloatEnabled:!1,wordCount:!0,maximumWords:1e3,elementPathEnabled:!1,initialFrameHeight:94})}function a(){var e=$("#this_user").val();return"True"==e}function s(){return $("#article_id").val()}function n(){return $("#MEDIA_URL").val()}function o(e){var t=$(e).parent().parent().parent().parent();return t}function r(e){var t=$(e).attr("data-id"),a=$(e).attr("data-parent-id");return{id:t,parent_id:a}}function c(e){var t=$(e).parent().parent();return t}function l(e){var t=o(e),a=r(t);return 0!=parseInt(a.parent_id)?c(t):t}function d(){$(".reviews_answer").on({click:function(){if(a()){var e=$(this).parent().siblings(".divUEContent");if(""==$(e).html()){$(".reviews_answer a").text("回复"),$(".divUEContent").html("");var t=$("#divUE").html();$(e).html(t),$(this).text("收起")}else $(e).html(""),$(this).text("回复")}else i();$(".submit_reviews").on({click:function(){h(this)}},"button")}},"a")}function u(e,t){var a=$(e).children(".col_r").children(".divUEContent");a.after(t)}function h(e){var t=g.getContent(),a=g.body.innerHTML.replace(/<[^>]+>/g,"").replace(/&nbsp;/g,"").replace(/​/,"").trim(),i=l(e),n=r(i).id,o=$(".divUEContent .submit_reviews");""!=t&&"说点什么吧..."==g.getContentTxt()?(o.find("span").css("left",0).text("至少15个字符"),g.setContent("")):15>a.length?o.find("span").css("left",0).text("至少15个字符"):$.ajax({type:"POST",url:"/common/ajax/add/discuss",data:{object_type:"ARTICLE",object_id:s(),parent_id:n,comment:t},success:function(e){if(e.success){var a="";a+='<div parent="parent_0" class="item child" data-id="'+e.id+'" data-parent-id="'+e.parent_id+'">',a+='<div class="col_l"><a href="'+$(".sign_reviews a").attr("href")+'" target="_blank"><img src="'+$(".sign_reviews img").attr("src")+'" alt="'+$(".sign_reviews .nike_name").text()+'"></a></div>',a+='<div class="col_r" style="width: 710px;">',a+='<p><span class="nike_name">'+$(".sign_reviews .nike_name").text()+'</span><span class="date_time">刚刚</span></p>',a+="<p>"+t+"</p>",a+='<p class="reviews_answer"><a href="javascript:void(0);">回复</a></p>',a+='<div class="divUEContent"></div>',a+="</div>",a+="</div>",u(i,a),d(),$(".reviews_answer a").text("回复"),$(".divUEContent").html("")}else o.find("span").css("left",0).text("提交失败")}})}function p(e){var t=$(".submit_reviews");if(e.success){var a="",s=v.getContent();v.setContent(""),t.find("span").css("left",0).text("提交成功"),a+='<div parent="parent_0" class="item" data-id="'+e.id+'" data-parent-id="'+e.parent_id+'">',a+='<div class="col_l"><a href="'+$(".sign_reviews a").attr("href")+'" target="_blank"><img src="'+$(".sign_reviews img").attr("src")+'" alt="'+$(".sign_reviews .nike_name").text()+'"></a></div>',a+='<div class="col_r" style="width: 710px;">',a+='<p><span class="nike_name">'+$(".sign_reviews .nike_name").text()+'</span><span class="date_time">刚刚</span></p>',a+="<p>"+s+"</p>",a+='<p class="reviews_answer"><a href="javascript:void(0);">回复</a></p>',a+='<div class="divUEContent"></div>',a+="</div>",a+="</div>",$(".reviews_lists").prepend(a),d()}else t.find("span").css("left",0).text("提交失败")}function m(e){var t=$(".praise-btn span i");t.text(e.like_num)}function f(e){var t,a="",s=$(".reviews_lists");if($(".reviews_num").text(e.discuss_total+"条评论"),e=e.discuss,e.length>0){for(var i=0;e.length>i;++i)if(t=e[i].id,0==e[i].parent_id){a+='<div id = "'+e[i].id+'" class="item" data-id="'+e[i].id+'" data-parent-id="0">',a+='<div class="col_l"><a href="/u/'+e[i].user_id+'" target="_blank"><img src="'+n()+e[i].head+'" alt="'+e[i].nick_name+'"></a></div>',a+='<div class="col_r" style="width: 710px;">',a+='<p><span class="nike_name">'+e[i].nick_name+'</span><span class="date_time">'+e[i].date+"</span></p>",a+="<p>"+e[i].content+"</p>",a+='<p class="reviews_answer"><a href="javascript:void(0);">回复</a></p>',a+='<div class="divUEContent"></div>';for(var o=0;e.length>o;++o)e[o].parent_id==t&&(a+='<div class="item child" data-id="'+e[o].id+'" data-parent-id="'+t+'">',a+='<div class="col_l"><a href="/u/'+e[o].user_id+'" target="_blank"><img src="'+n()+e[o].head+'" alt="'+e[o].nick_name+'"></a></div>',a+='<div class="col_r" style="width: 640px;">',a+='<p><span class="nike_name">'+e[o].nick_name+'</span><span class="date_time">'+e[o].date+"</span></p>",a+="<p>"+e[o].content+"</p>",a+='<p class="reviews_answer"><a href="javascript:void(0);">回复</a></p>',a+='<div class="divUEContent"></div>',a+="</div>",a+="</div>");a+="</div>",a+="</div>"}s.append(a),d()}}var v,g;v=t("reviews_ueditor"),g=t("reviews_ueditor_small"),v.ready(function(){v.setContent('<p style="color: #999999;font-size: 14px;">说点什么吧...</p>')}),g.ready(function(){g.setContent('<p style="color: #999999;font-size: 14px;">说点什么吧...</p>')}),v.addListener("focus",function(){"说点什么吧..."==v.getContentTxt()&&v.setContent("")}),g.addListener("focus",function(){"说点什么吧..."==g.getContentTxt()&&g.setContent("")}),e(),$(".not_sign a").on("click",function(){i()}),$.ajax({type:"GET",url:"/common/ajax/get/discuss",data:{object_type:"ARTICLE",object_id:s()},success:f}),$(".submit_reviews").on({click:function(){var e=v.getContent(),t=$(".submit_reviews"),a=v.body.innerHTML.replace(/<[^>]+>/g,"").replace(/&nbsp;/g,"").replace(/​/,"").trim();""!=e&&"说点什么吧..."==v.getContentTxt()?(t.find("span").css("left",0).text("至少15个字符"),v.setContent("")):15>a.length?t.find("span").css("left",0).text("至少15个字符"):$.ajax({type:"POST",url:"/common/ajax/add/discuss",data:{object_type:"ARTICLE",object_id:s(),parent_id:0,comment:e},success:p}),$(".reviews_answer a").text("回复"),$(".divUEContent").html("")
}},"button")};a.exports={init:s}}),define("/js/lps4/dist/teacherIntroduce",["jquery","./bxslider.js","bxsliderCss","bxslider"],function(e){function t(){function e(e,a){t=e.length,a.append("<em>/ "+t+"</em>")}var t=0;e(a(".addTeacher_container .works_bxslider .bx-pager-item"),a(".works_bxslider .bx-pager")),e(a(".addTeacher_container .student_bxslider .bx-pager-item"),a(".student_bxslider .bx-pager"))}var a=e("jquery");e("./bxslider")(a),a(".teach_bxslider,.stu_bxslider").bxSlider({captions:!0,auto:!0}),t();var s="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(s,function(){t()});var i=a(".addTeacher_banner .teacher");i.css({height:i.height(),"margin-top":(470-i.height())/2})}),define("/js/lps4/dist/teacherRecruit",["jquery","./bxslider.js","bxsliderCss","bxslider"],function(e){function t(){var e=s(".gold_teacher .bxslider li").not(".bx-clone").length>4;s(".gold_teacher .bxslider").bxSlider({mode:"horizontal",auto:!1,slideWidth:288,maxSlides:4,slideMargin:15,hideControlOnEnd:!0,pager:e?!0:!1})}function a(){for(var e,t=s(".teacherRecruitFlow .detail li"),a=1;t.length>=a;a++)e=42+294*(a-1),t.eq(a-1).animate({left:e},50*a)}var s=e("jquery");e("./bxslider")(s),s(function(){var e,i=s(".teacherRecruitFlow");e=i.position().top-(i.height()+360),s(window).scrollTop()>e&&a(),s(window).scroll(function(){s(window).scrollTop()>e&&a()}),t()})}),define("/js/lps4/dist/teacherRecruitForm",["jquery","./main","function","bootstrap","./search.js"],function(e,t,a){function s(){i()}function i(){e("./main").captcha(".teacherRecruitForms .captcha"),n(".submitBtn").click(function(){function e(e,t,a){null==e?(t.show(),a.click(function(){t.hide()})):t.hide()}var t,a,s,i,o,r;t=n('.teacherRecruitForms input:radio[name="lecturerType"]:checked').val(),a=n('.teacherRecruitForms input:radio[name="formation"]:checked').val(),s=n('.teacherRecruitForms input:radio[name="workingLife"]:checked').val(),i=n(".teacherRecruitFormLecturerTypeTips"),o=n(".teacherRecruitFormFormationTips"),r=n(".teacherRecruitFormWorkingLifeTips"),e(t,i,n('.teacherRecruitForms input:radio[name="lecturerType"]')),e(a,o,n('.teacherRecruitForms input:radio[name="formation"]')),e(s,r,n('.teacherRecruitForms input:radio[name="workingLife"]'));var c,l,l,d;c=n(".teacherRecruitName"),l=n(".teacherRecruitNameTips"),teacherRecruitNameError=n(".teacherRecruitNameError"),d=c.val().length,0==d?(l.show(),c.addClass("error"),c.focus(function(){l.hide(),n(this).removeClass("error")})):d>20&&(teacherRecruitNameError.show(),c.addClass("error"),c.focus(function(){teacherRecruitNameError.hide(),n(this).removeClass("error")}));var u,h,p,m;u=n(".teacherRecruitSkill"),h=n(".teacherRecruitSkillTips"),p=n(".teacherRecruitSkillError"),m=u.val().length,0==m?(h.show(),u.addClass("error"),u.focus(function(){h.hide(),n(this).removeClass("error")})):m>30&&(p.show(),u.addClass("error"),u.focus(function(){p.hide(),n(this).removeClass("error")}));var f,v,g,$,_;f=n(".teacherRecruitTextArea"),v=n(".teacherRecruitTextAreaTips"),g=n(".teacherRecruitTextAreaError1"),$=n(".teacherRecruitTextAreaError2"),_=f.val().length,0==_?(v.show(),f.focus(function(){v.hide()})):50>_?(g.show(),f.focus(function(){g.hide()})):_>1e3&&($.show(),f.focus(function(){$.hide()}));var b,w,y,x,k,C;y=n(".teacherRecruitPhone"),x=n(".teacherRecruitPhoneTips"),k=n(".teacherRecruitPhoneError"),b=/^0?1[3|4|5|7|8][0-9]\d{8}$/,w=b.test(y.val()),C=y.val().length,0==C?(x.show(),y.addClass("error"),y.focus(function(){x.hide(),n(this).removeClass("error")})):w||(k.show(),y.addClass("error"),y.focus(function(){k.hide(),n(this).removeClass("error")}));var T,j,S,M;T=n(".teacherRecruitQQ"),j=n(".teacherRecruitQQTips"),S=n(".teacherRecruitQQError"),M=T.val().length,0==M?(j.show(),T.addClass("error"),T.focus(function(){j.hide(),n(this).removeClass("error")})):(4>M||M>11||isNaN(T.val()))&&(S.show(),T.addClass("error"),T.focus(function(){S.hide(),n(this).removeClass("error")})),n(".teacherRecruitForms .gt_ajax_tip").hasClass("success")?n(".teacherRecruitCapchaTips").hide():n(".teacherRecruitCapchaTips").show();var B=!0;n(".teacherRecruitForms li em,.teacherRecruitForms li .error").each(function(){switch(n(this).css("display")){case"inline":B=!1}}),B&&submit_teacher_recruit(n("#teacherRecruitForms").serialize())}),n(".teacherRecruitFormError .tj").click(function(){n(".teacherRecruitFormFlow strong:last-child").removeClass("active"),n(".teacherRecruitFormSubmit").removeClass("active"),n(".teacherRecruitFormWrite").addClass("active"),n(".teacherRecruitForms .captcha").text(""),e("./main").captcha(".teacherRecruitForms .captcha")}),n(".teacherRecruitForms input[name=lecturerType]").click(function(){switch(n(".teacherRecruitForms input[name=lecturerType]:checked").attr("id")){case"dkjs":n(this).parent(".radioBtn").addClass("active").siblings().removeClass("active"),n(".teacherRecruitForms #qzjs").removeAttr("disabled").parent(".radioBtn").removeClass("disable");break;case"lkjs":n(this).parent(".radioBtn").addClass("active").siblings().removeClass("active"),n(".teacherRecruitForms #jzjs").attr("checked","checked").parent(".radioBtn").addClass("active"),n(".teacherRecruitForms #qzjs").attr("disabled","disabled").parent(".radioBtn").addClass("disable")}}),n(".teacherRecruitForms input[name=formation]").click(function(){switch(n(".teacherRecruitForms input[name=formation]:checked").attr("id")){case"jzjs":n(this).parent(".radioBtn").addClass("active").siblings().removeClass("active"),n(".teacherRecruitForms #lkjs").removeAttr("disabled").parent(".radioBtn").removeClass("disable");break;case"qzjs":n(this).parent(".radioBtn").addClass("active").siblings().removeClass("active"),n(".teacherRecruitForms #lkjs").attr("disabled","disabled").parent(".radioBtn").addClass("disable")}}),n(".teacherRecruitForms input[name=workingLife]").click(function(){n(this).parent(".radioBtn").addClass("active").siblings().removeClass("active")})}var n=e("jquery");a.exports={init:s}}),define("/js/lps4/dist/trycourseteacher",["jquery","bootstrap"],function(e){function t(){a(".datetimepickerTime").datetimepicker({datepicker:!1,format:"H:i",step:5,onChangeDateTime:function(e,t){var a=new Date,s=t.parent().parent().prev().find("input").val();""!=s&&(e=new Date(s+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()));var i=Date.parse(e);a>i&&(t.val(""),layer.tips("不能选择过去的时间",t,{tips:[2,"#68c8b6"]}))}}),a(".datetimepickerDate").datetimepicker({lang:"ch",timepicker:!1,format:"Y/m/d",formatDate:"Y/m/d",onChangeDateTime:function(e,t){e.setHours(23),e.setMinutes(59),e.setSeconds(59);var a=Date.parse(e),s=new Date;s>a&&(t.val(""),layer.tips("不能选择过去的日期",t,{tips:[2,"#68c8b6"]}))}})}var a=e("jquery");e("bootstrap"),e("/static/mz_lps3/js/jquery.datetimepicker"),t(),a(".tryTeacher .addBtn").click(function(){a("#tryTeacherNewClassModal").modal("show"),a(".tryTeacherNewClassResult").hide(),a(".tryTeacherNewClassAdd").show()}),a(".tryTeacherNewClassAdd .create").click(function(){function e(e,t){""==e&&t.addClass("error")}var t,s,i,n,o;s=a("#tryTeacherNewClassProfess"),t=s.find("option:selected").val(),i=a("#tryTeacherFirstDate"),n=a("#tryTeacherFirstTime"),o=a("#tryTeacherAnswerTime"),console.log(i.val()),0==t&&s.addClass("error"),e(i.val(),i),e(n.val(),n),e(o.val(),o),a(".tryTeacherNewClassResult .title span").html(s.find("option:selected").text()),a(".tryTeacherNewClassResult .first em").html(a("#tryTeacherFirstTime").val()),a(".tryTeacherNewClassResult .answer em").html(a("#tryTeacherAnswerTime").val()),a.ajax({type:"POST",url:a(this).attr("hrf"),data:a("#createFreeClassForms").serialize(),dataType:"json",success:function(e){e.status?(a(".tryTeacherNewClassAdd").hide(),a(".tryTeacherNewClassResult").fadeIn(150),a(".tryTeacherNewClassAdd .tips").hide()):a(".tryTeacherNewClassAdd .tips").show()}})});var s=new Date;s.setDate(s.getDate()+2);var i=s.getFullYear(),n=10>s.getMonth()+1?"0"+(s.getMonth()+1):s.getMonth()+1,o=10>s.getDate()?"0"+s.getDate():s.getDate();a("#tryTeacherAnswerDate").html(i+"."+n+"."+o),a("#tryTeacherAnswerDateHidden").val(i+"/"+n+"/"+o),a(".tryTeacherNewClassAdd select,.tryTeacherNewClassAdd input").focus(function(){a(this).removeClass("error")}),a("#tryTeacherFirstDate").blur(function(){if(""==!a(this).val()){var e=new Date(a(this).val());e.setDate(e.getDate()+2);var t=e.getFullYear(),s=10>e.getMonth()+1?"0"+(e.getMonth()+1):e.getMonth()+1,i=10>e.getDate()?"0"+e.getDate():e.getDate(),n=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],o=t+"/"+s+"/"+i;a("#tryTeacherAnswerDate").html(o),a("#tryTeacherAnswerDateHidden").val(o)}var r=new Date(a(this).val());r.getFullYear();var c=10>r.getMonth()+1?"0"+(r.getMonth()+1):r.getMonth()+1,l=10>r.getDate()?"0"+r.getDate():r.getDate(),d=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];a(".tryTeacherNewClassResult .first strong").html(d[r.getDay()]+"（"+c+"."+l+"）<em></em>"),a(".tryTeacherNewClassResult .answer strong").html(n[e.getDay()]+"（"+s+"."+i+"）<em></em>"),a(".tryTeacherNewClassResult .title strong").html("("+c+"."+l+"-"+s+"."+i+")"+" 3天")}),a(".tryTeacherNewClassResult .back").click(function(){a(this).parent().hide(),a(".tryTeacherNewClassAdd").fadeIn(150)}),a("#tryTeacherErrorBox .retry").click(function(){a("#tryTeacherErrorBox").modal("hide"),a("#tryTeacherNewClassModal").modal("show"),a(".tryTeacherNewClassResult").hide(),a(".tryTeacherNewClassAdd").show()}),a(".tryTeacherNewClassResult .confirm").click(function(){a.ajax({type:"POST",url:a("#createFreeClassForms").attr("action"),data:a("#createFreeClassForms").serialize(),dataType:"json",success:function(e){e.status?location.reload():(a("#tryTeacherNewClassModal").modal("hide"),a("#tryTeacherErrorBox").modal("show"))}})})}),define("/js/lps4/dist/trymanageteacher",["jquery","bootstrap","mousewheel","jscrollpane"],function(e){function t(e){var t=e;void 0!=t&&o.ajax({type:"GET",url:t,dataType:"json",success:function(e){console.log(e),o("#tryTeacherLearnData .test .modal-title").html(e.papertitle),r=e.quizs,s(),o("#tryTeacherLearnData .data").hide(),o("#tryTeacherLearnData .test").fadeIn(),o("#tryTeacherLearnData .modal-dialog").addClass("modal-test").removeClass("modal-data")},error:function(){alert("service data error")}})}function a(e){var t=r[e-1];o("#tryTeacherLearnData .test h5").html(e+".&nbsp;"+t.question);var a="",s=t.answer,i=0;for(var n in s){var c="";t.user_choose==l[i]&&t.user_choose!=t.correct&&(c="error"),t.correct==l[i]&&(c="active"),a+='<li class="'+c+'"><span>'+l[i]+"</span>"+s[l[i]]+"</li>",i++}o("#tryTeacherLearnData .test ol").html(a)}function s(){c=r.length;for(var e="",t=0;c>t;t++){var s=r[t],i="right";s.user_choose!=s.correct&&(i="error"),e+='<li class="'+i+'" num="'+(t+1)+'"></li>'}o("#tryTeacherLearnData .infos ul").html(e),o("#tryTeacherLearnData .infos li").unbind().click(function(){a(o(this).attr("num")),o(this).addClass("active").siblings().removeClass("active")}).eq(0).trigger("click")}function i(e){var t=e;void 0!=t&&o.ajax({type:"GET",url:t,dataType:"html",success:function(e){o("#tryTeacherLearnData").modal("hide"),o("#tryTeacherCorrWork").html(e),o("#tryTeacherCorrWork").modal("show")},error:function(){alert("service data error")}})}function n(e){o.ajax({type:"GET",url:e,dataType:"html",success:function(e){o("#tryTeacherLearnData").html(e),o("#tryTeacherLearnData").modal({show:!0,keyboard:!1,backdrop:"static"})}})}var o=e("jquery");e("bootstrap");var r=[],c=0,l=["A","B","C","D","E","F","G","H","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],d=function(e){return(e+"").replace(/[^\x00-\xff]/g,"aa").length},u=function(e){var t="";t+='<div id="imgzoom"><i class="imgzoom-close"></i><div id="imgzoom-image-ctn">',t+='<img class="img" src="'+e+'" alt="">',t+="</div></div>",o("body").append(t);var a=o("#imgzoom-image-ctn");a.find(".img").load(function(){a.css({left:"50%",top:"50%",marginLeft:-a.outerWidth()/2,marginTop:-a.outerHeight()/2})}),o("#imgzoom").fadeIn("fast","linear").css({"z-index":"1100",top:"0px"}),o(".imgzoom-close").on("click",function(){o("#imgzoom").remove()})};o(function(){o("#tryTeacherCorrWork").on("show.bs.modal",function(){o("#tryTeacherCorrWork .score span").unbind().hover(function(){layer.tips(o(this).attr("v"),o(this),{tips:[1,"#626262"],time:2e3})},function(){}).click(function(){o(this).addClass("active").siblings().removeClass("active")})}),o(".tryTeacherManage .tableBox .LearnData").on("click",function(){var e=o(this).attr("pop_href");void 0!=e&&n(e)}),o(".tryTeacherManage .tableBox .CorrWork").on("click",function(){var e=o(this).attr("pop_href");void 0!=e&&o.ajax({type:"GET",url:e,dataType:"html",success:function(e){o("#tryTeacherLearnData").modal("hide"),o("#tryTeacherCorrWork").html(e),o("#tryTeacherCorrWork").modal("show")},error:function(){alert("service data error")}})}),o("#tryTeacherLearnData").on("show.bs.modal",function(){o("#tryTeacherLearnData .data li").each(function(){o(this).click(function(){o(this).addClass("active").siblings().removeClass("active"),"LESSON"==o(this).attr("data-type")?i(o(this).children("a").attr("pop_href")):t(o(this).children("a").attr("pop_href"))})}),o("#tryTeacherLearnData .infos .lastQuest").unbind().click(function(){o("#tryTeacherLearnData .infos li.active").prev().trigger("click")}),o("#tryTeacherLearnData .infos .nextQuest").unbind().click(function(){o("#tryTeacherLearnData .infos li.active").next().trigger("click")}),o("#tryTeacherLearnData .test .backBtn").on("click",function(){o("#tryTeacherLearnData .test").hide(),o("#tryTeacherLearnData .modal-dialog").addClass("modal-data").removeClass("modal-test"),o("#tryTeacherLearnData .data").fadeIn()})})}),o("#tryTeacherLearnData").on("shown.bs.modal",function(){o(".tryTeacherLearnData .data").jScrollPane({mouseWheelSpeed:100})}),e("mousewheel"),e("jscrollpane"),o("#tryTeacherCorrWork").on("shown.bs.modal",function(){o("#tryTeacherCorrWork .submitBtn").click(function(){var e=o("#tryTeacherCorrWork textarea").val(),t=Math.ceil(d(e)/2);0==o("#tryTeacherCorrWork .score span.active").length||""==e?layer.msg("请评分，写评语！"):t>200?layer.msg("已超出200字！"):o.ajax({type:"POST",url:o("#project_marking").val(),data:{score:o(".active").text(),desc:e},dataType:"json",success:function(e){"success"==e.status||"'LocMemCache' object has no attribute 'client'"==e.message?(o("#tryTeacherCorrWork").modal("hide"),layer.msg("评分成功！")):layer.msg(e.message)}})});var e=o("#tryTeacherCorrWork .score span"),t=o("#tryTeacherCorrWork li a");e.each(function(){o(this).on("click",function(){o(this).addClass("active").siblings("span").removeClass("active")})}),t.on("click",function(e){e.stopPropagation(),e.preventDefault(),u(o(this).find("img").attr("src"))}),o(".tryTeacherCorrWork").jScrollPane({mouseWheelSpeed:100})})}),define("/js/lps4/dist/personalCenterStudent",["jquery","bootstrap"],function(e){e("jquery"),e("bootstrap")}),define("/js/lps4/dist/free_learn",["./main","jquery","function","bootstrap","./search.js"],function(e){function t(e){var t=e.siblings(".first").html();$pThree=e.parent().siblings(".three");var a=$pThree.find(".first").html(),s=$pThree.find(".second").html(),i=$pThree.find(".third").html(),n=e.attr("data-mobile"),o=e.attr("data-class-id");$("#appointment-study .second .name").html(t),$("#appointment-study .second .name").siblings().html(a+" "+s+i),$("#appointment-study .phone-num").html(function(e,t){return n+" "+t.substring(t.indexOf("<a"))}),$("#appointment-study .enter-appo").attr("data-class-id",o),$("#appointment-success .second .name").html(t),$("#appointment-success .second .name").siblings().html(a+" "+s+i),$("#appointment-success .phone-num").html(n)}function a(e){return $.ajax({type:"POST",url:"/home/settings/bind_mobile/sendsms/",data:{mobile:$("#newPhone .pcsBasicTableTxt").val(),type:"verifyMobile",geetest_challenge:$("#newPhone .geetest_challenge").attr("value"),geetest_validate:$("#newPhone .geetest_validate").attr("value"),geetest_seccode:$("#newPhone .geetest_seccode").attr("value")},dataType:"json",beforeSend:function(){e.css("pointer-events","none")},success:function(e){e.success?($("#newPhone2").modal("show"),r=$("#newPhone .pcsBasicTableTxt").val()):($("#newPhone .megError").html(e.message).slideDown(),o.refresh())},complete:function(){e.css("pointer-events","auto")}})}function s(e,t,a){u--,e.html(u),0>=u&&(u=t||u,a.call(this),clearInterval(d))}function i(e,t,a){return u=t||u,clearInterval(d),function(){s(e,t,a)}}function n(){var e=$(this);e.html("重发验证码(<span>60</span>s)").css("pointer-events","none"),$.ajax({type:"POST",url:"/home/settings/bind_mobile/sendsms/",data:{mobile:r,retry:!0},dataType:"json",beforeSend:function(){},success:function(t){if(t.success){var a=$("#newPhone2 .fg > a");$("#newPhone2 .pm").html("手机短信验证码已发送，请查收！").slideDown(),e.removeAttr("style").addClass("smsend"),d=setInterval(i($("#newPhone2 .fg > a>span"),60,function(){a.html("重发验证码").removeClass("smsend"),a.unbind().click(n),e.css("pointer-events","auto")}),1e3)}else $("#newPhone2 .pm").html(t.message).slideDown()},complete:function(){}})}var o,r,c=e("./main").captcha,l="True"==$(".header .topRight").attr("login")?!0:!1;$(".appointment-list li .order").each(function(){if(1==l){var e=!0;""==$(this).attr("data-mobile")&&(e=!1),"None"==$(this).attr("data-mobile")&&(e=!1),1==e?$(this).click(function(){t($(this)),$("#appointment-study").modal({show:!0,keyboard:!1,backdrop:"static"})}):$(this).click(function(){$(".captchaMy").children().remove(),c(".captchaMy","verifyMobile/",function(e){o=e}),$("#newPhone").modal({show:!0,keyboard:!1,backdrop:"static"})})}else $(this).click(function(){$("#loginModal").modal({show:!0,keyboard:!1,backdrop:"static"})})}),$("#appointment-study .m-close").click(function(){$("#appointment-study").modal("hide")}),$("#newPhone .zy_close").click(function(){$("#newPhone").modal("hide")}),$(".enter-appo").click(function(){$.ajax({type:"POST",url:$(this).attr("hrf"),data:{class_id:$(this).attr("data-class-id")},dataType:"json",success:function(e){e.status?$("#appointment-success").modal({show:!0,keyboard:!1,backdrop:"static"}):($("#appointment-fail .fail").text("预约失败，"+e.message),$("#appointment-fail").modal({show:!0,keyboard:!1,backdrop:"static"}))}})}),$(".know").click(function(){$("#appointment-success").modal("hide"),window.location.reload()}),$(".retry").click(function(){window.location.reload()}),$("#newPhone .personalCbtn").click(function(){$.when(a($(this))).then(function(){$("#newPhone2 .pm").slideUp();var e=$("#newPhone2 .fg > a");e.addClass("smsend").html("重发验证码(<span>5</span>s)"),d=setInterval(i($("#newPhone2 .fg > a>span"),60,function(){e.html("重发验证码").removeClass("smsend"),e.unbind().click(n)}),1e3)})}),$("#newPhone2 .personalCbtn").click(function(){$.ajax({type:"POST",url:"/home/settings/bind_mobile/",data:{mobile:r,mobile_code:$("#newPhone2 .pcsBasicTableTxt").val()},dataType:"json",beforeSend:function(){$(this).css("pointer-events","none")},success:function(e){e.success?($("#newMeg").modal("show"),d=setInterval(i($("#newMeg .p2>span"),5,function(){$("#newMeg").modal("hide"),location.reload()}),1e3)):$("#newPhone2 .pm").html(e.message).slideDown()},complete:function(){$(this).css("pointer-events","auto")}})});var d,u=60;$(".free-step").on("click",function(){$("#free-tips").modal("show")}),$("#free-tips .i-know").on("click",function(){$("#free-tips").modal("hide")})}),define("/js/lps4/dist/studentmyanswer",["./main","jquery","function","bootstrap","./search.js","/js/common/wookmark.js"],function(e,t,a){function s(){m()}function i(){return"True"==$(".topRight").attr("login")}function n(){var e=$(".personalInterlocutionQues .time .like");e.unbind(),e.each(function(){$(this).click(function(e){if(!i())return l(),!1;e.stopPropagation();var t=$(this),a=t.attr("data-discuss-id");$.ajax({url:"/home/s/ajax_praise/",method:"POST",dataType:"json",data:{problem_id:a},success:function(e){if(e.success){var a=e.data.action,s=e.data.praise_count;"mark"==a?(t.html(s),t.addClass("parised")):"cancel"==a&&(t.html(s),t.removeClass("parised"))}else if(401==e.code)return l("登录状态已过期！"),!1}})})})}function o(){$("#main>div.cur>ul>li").click(function(){var e=$(this).attr("discuss_id");window.location.href=window.location+"?p_id="+e})}function r(){d=[$(".toUserCenter"),$(".interact"),$(".objectHref"),$(".answer .img"),$(".answerToUserCenter")];for(var e=0;d.length>e;e++)d[e].on("click",function(e){e.stopPropagation()})}function c(e){var t="";return t=0==e|-1==e?"我的提问"==$(".teacherCenterMenu>a.aH").text()?'<div class="textC nulldata"><p class="marginB29"><img src="/images/no_answer2.png"></p><p class="font22 color33 marginB10">我的提问记录空空</p><p class="font14 color66">暂时还没有提出过疑问</p><p class="font14 color66 marginB10">赶快去课程视频下提问吧</p></div>':"我的回答"==$(".teacherCenterMenu>a.aH").text()?'<div class="textC nulldata"><p class="marginB29"><img src="/images/no_answer2.png"></p><p class="font22 color33 marginB10">我的回答记录空空</p><p class="font14 color66">暂时还没有回答过问题</p><p class="font14 color66 marginB10">赶快去课程视频下回答吧</p></div>':"TA的提问"==$(".teacherCenterMenu>a.aH").text()?'<div class="textC nulldata"><p class="marginB29"><img src="/images/no_answer2.png"></p><p class="font22 color33 marginB10">TA的提问记录空空</p><p class="font14 color66">TA暂时还没有提出过疑问</p></div>':"TA的问答"==$(".teacherCenterMenu>a.aH").text()?'<div class="textC nulldata"><p class="marginB29"><img src="/images/no_answer2.png"></p><p class="font22 color33 marginB10">TA的回答记录空空</p><p class="font14 color66">TA暂时还没有回答过问题</p></div>':"优质解答"==$(".teacherCenterMenu>a.aH").text()?'<div class="textC nulldata"><p class="marginB29"><img src="/images/no_answer2.png"></p><p class="font22 color33 marginB10">优质解答记录空空</p><p class="font14 color66">暂时还没有人向老师提问</p><p class="font14 color66 marginB10">赶快去老师的课程下提问吧</p></div>':'<div class="textC nulldata"><p class="marginB29"><img src="/images/no_answer2.png"></p><p class="font22 color33 marginB10">记录空空</p><p class="font14 color66">暂时还没有问答记录</p></div>':'<div class="textC nulldata"><p class="marginB29"><img src="/images/no_answer2.png"></p><p class="font22 color33 marginB10">记录空空</p><p class="font14 color66">暂时还没有问答记录</p></div>'}var l,d,u,h;l=e("./main").login_popup,e("/js/common/wookmark.js"),$.ajaxSetup({cache:!0}),u=null,h=null;var p={autoResize:!0,container:$("#main"),offset:2,itemWidth:420},m=function(){function e(){$(".personalInterlocutionQues>div>ul>li").hover(function(){$(this).find(".interact").show()},function(){$(this).find(".interact").hide()})}function t(){var e=$(".personalInterlocutionTeaState").height()+15;15==e&&(e=-20);var t=$(".personalInterlocutionQues>div.cur>ul>li");t.each(function(){var a=parseInt($(this).css("left"));if(440==a){var s=$(this).attr("data-wookmark-id"),i=parseInt(t.eq(s).css("top"))+e;console.log($(window).scrollTop()),$(window).scrollTop()>i&&($(".personalInterlocutionCardTime strong").html(t.eq(s).find(".time span").html()),$(".personalInterlocutionCardTime em").html(t.eq(s).find(".time em").html()))}});var a=$(window).scrollTop()+$(window).height()>$(document).height()-100;a&&i(!1)}function a(){h=$("#main>div.cur>ul"),h.wookmark(p)}function s(){var e=$(".personalInterlocutionQues>div.cur>ul>li");e.length>0?$(".personalInterlocutionCardTime").show():$(".personalInterlocutionCardTime").hide();var t=e.eq(1);$(".personalInterlocutionCardTime strong").html(t.find(".time span").html()),$(".personalInterlocutionCardTime em").html(t.find(".time em").html())}function i(i){var l=$(".teacherCenterMenu>a.aH").attr("url"),d=$("#main>div.cur>ul>li:last").attr("discuss_id"),u=$(".personalInterlocutionTeaState>span.aH").index(),h=[];d&&h.push("end_id="+d),u&&h.push("status="+u);var p=h.join("&");$.ajax({url:l+"?"+p,dataType:"html",beforeSend:function(){$(document).off("scroll")},success:function(t){1==i?0>t.indexOf("div")?$("#main>div.cur").html(c(u)):($("#main>div.cur").html("<ul></ul>"),$("#main>div.cur>ul").html(t)):$("#main>div.cur>ul").append(t),a(),n(),s(),o(),e(),r(),n()},complete:function(){$(document).on("scroll",t)}})}n(),o(),r();var l=$(".personalInterlocutionTeaState>span.aH").index();u=[],$(".personalInterlocutionTeaState>span").each(function(){u.push(l)}),$(".personalInterlocutionTeaState span").click(function(){$(this).addClass("aH").siblings().removeClass("aH"),u[$(".teacherCenterMenu>a.aH").index()]=$(this).index(),$("#main>div.cur>ul").empty(),i(!0)}),$(".teacherCenterMenu>a").click(function(){$(this).addClass("aH").siblings().removeClass("aH"),$(".teacherCenterTabContent>div").eq($(this).index()).addClass("cur").siblings().removeClass("cur"),$(".personalInterlocutionTeaState>span").eq(u[$(this).index()]).addClass("aH").siblings().removeClass("aH"),a(),s(),o()}),e(),$(document).scroll(t),a(),s()};a.exports={init:s}}),define("/js/lps4/dist/studentmyanswerdetail",["./main","jquery","function","bootstrap","./search.js"],function(e){function t(){return"True"==$(".topRight").attr("login")}function a(e,t){var a={problem_id:d,parent_id:l,answer_user_id:c,answer_nick_name:r,comment:p};$.ajax({url:t,dataType:"json",method:"POST",data:a,success:function(t){if(t.success){var a=t.data;if(e)replyhtml='<div class="item" discuss_id='+a.new_discuss_id+">"+'<a class="img" href="'+a.user_url+'" target="_blank">'+'<img src="'+a.head+'"/>'+"</a>"+'<div class="infos">'+'<div class="user">'+'<a href="'+a.user_url+'" class="font14"><strong answer_user_id='+a.user_id+">"+a.nick_name+"</strong></a>"+'<span class="replyTxt">回复<a target="_blank" href="'+o+'">'+r+"</a></span>"+"</div>"+"<p>"+$("<div/>").text(p).html()+"</p>"+'<div class="timeReply font14">'+'<span class="time">刚刚</span>'+'<span class="reply">回复</span>'+"</div>"+"</div>"+"</div>",n.find(".click").parents("li").children(".infos").after(replyhtml);else{var s="<li discuss_id="+a.new_discuss_id+">"+'	<a class="img" href="'+a.user_url+'" target="_blank">'+'		<img src="'+a.head+'">'+"	</a>"+'	<div class="infos">'+'		<div class="user">'+'			<a href="'+a.user_url+'" class="font14"><strong answer_user_id='+a.user_id+">"+a.nick_name+"</strong></a>"+"		</div>"+"		<p>"+$("<div/>").text(p).html()+"</p>"+'		<div class="timeReply font14">'+'			<span class="time">刚刚</span>'+'			<span class="reply">回复</span>'+"		</div>"+"	</div>"+"</li>";n.prepend(s)}i.val(""),n.find(".reply").removeClass("click"),$(".discuss_count").text(parseInt($(".discuss_count").text())+1+" 回答")}else s=$("<span>"+t.message+"</span>"),$(".btnBottm").prepend(s),setTimeout(function(){$(".btnBottm span").remove()},5e3)}})}function s(){var e,t,a;e=h.attr("url"),t="",a=$(".personalInterlocutionDetailAnswer>ul>li:last").attr("discuss_id"),a&&(t+="?end_id="+a),$.ajax({url:e+t,dataType:"html",success:function(e){""==e?($(".load-more").text("没有更多"),$(".load-more").off("click")):n.append(e)}})}var i,n,o,r,c,l,d,u=e("./main").login_popup,h=$(".personalInterlocutionDetailInfo");i=$(".personalInterlocutionDetailAnswer .commentBody textarea"),n=$(".personalInterlocutionDetailAnswer ul"),h.find(".infos dt").click(function(){if(!t())return u(),!1;var e=$(this),a=e.attr("data-discuss-id");$.ajax({url:"/home/s/ajax_praise/",method:"POST",dataType:"json",data:{problem_id:a},success:function(t){if(t.success){var a=t.data.action,s=t.data.praise_count;"mark"==a?(e.html(s),e.addClass("parised")):"cancel"==a&&(e.html(s),e.removeClass("parised"))}else if(401==t.code)return u("登录状态已过期！"),!1}})}),d=h.attr("discuss_id"),l=d,r=h.find(".infos .user strong").html(),c=h.find(".infos .user strong").attr("answer_user_id"),n.on({click:function(){var e=$(this).parents(".infos").find(".user strong").html();n.find(".reply").removeClass("click"),$(this).addClass("click"),o=$(this).parents(".infos").find(".user>a").attr("href"),i.focus().attr("placeholder","回复 "+e+"："),r=$(this).parent().siblings(".user").find("strong").html(),c=$(this).parent().siblings(".user").find("strong").attr("answer_user_id"),l=$(this).parents("li").attr("discuss_id")}},".reply"),h.on({click:function(){d=h.attr("discuss_id"),l=d,r=h.find(".infos .user strong").html(),c=h.find(".infos .user strong").attr("answer_user_id"),i.focus(),n.find(".reply").removeClass("click"),i.attr("placeholder","")}},".reply");var p;$(".personalInterlocutionDetailAnswer .btn").on("click",function(){p=i.val();var e,t=$(this).attr("ajaxUrl"),s=$(".btnBottm");return""==p?(e=$("<span>请输入回复内容</span>"),s.prepend(e),void 0):(s.find("span").remove(),n.find(".click").hasClass("click")?a(!0,t):a(!1,t),void 0)}),$(".load-more").on("click",function(){s()})}),define("/js/lps4/dist/wikiArticle",["jquery"],function(e){var t=e("jquery"),a=t(".wikiArticleNavBar .wikiPageNavBar").height()+t(".head-container").height()+20;t(window).scroll(function(){t(window).scrollTop()>a?t(".wikiAdsense").css({position:"fixed",top:"0"}):t(".wikiAdsense").css({position:"relative",top:"0"})})}),define("/js/lps4/dist/search_result",["jquery"],function(e){var t=e("jquery");t(".search_result .ad span").click(function(){t(this).parent().stop().slideUp(300)}),t(".search_result_right .course a").hover(function(){t(this).parent("li").addClass("active").siblings("li").removeClass("active")},function(){})}),define("/js/lps4/dist/feedbackBox",["uiwidget","fileupload","bootstrap","./main","jquery","function","./search.js"],function(e){e("uiwidget")($),e("fileupload")($),e("bootstrap")($),e("./main").captcha(".feedbackcaptcha"),$(function(){function e(){$("#feedbakBox .subminBtn").addClass("disable").attr("disabled","disabled")}function a(){$("#feedbakBox .subminBtn").removeClass("disable").removeAttr("disabled")}$("#feedback_content,#telphone").keyup(function(e){e.stopPropagation()}),$("#feedbakBox").on("hidden.bs.modal",function(){t()}),$("#feedbackfade").click(function(){$("#feedbakBox").modal("show")}),$("#feedbakBox .zy_close").click(function(){$(this).parents("#feedbakBox").modal("hide")}),$("#feedbakBox input[type=tel],#feedbakBox textarea").keyup(function(){a(),$(this).siblings("em").hide()}),$("#feedbakBox input[type=file],#feedbackBox #telphone,#feedbakBox textarea").blur(function(){""==$("#feedbakBox input[type=file]").val()&&""==$("#feedbakBox #telphone").val()&&""==$("#feedbakBox textarea").val()&&e()}),$("#feedback_type").blur(function(){""==!$("#feedback_type").val()&&(a(),$(this).siblings("em").hide())}),$(".feedbackcaptcha").on("mousedown",$(".gt_slider_knob"),function(){$(".feedbackcaptcha").parent().siblings("em").hide(),a()});var s,i,n;$("#feedbakBox .subminBtn").click(function(){s=$("#feedbakBox textarea").val(),i=$("#feedbakBox #telphone").val();var t=/^0?1[3|4|5|7|8][0-9]\d{8}$/;return""==$("#feedback_type").val()?($("#selectError").show(),e(),void 0):""==s?($("#feedbakBox #textareaError").show(),e(),void 0):t.test(i)===!1||""==i?($("#feedbakBox #telError").show(),e(),void 0):$(".feedbackcaptcha .gt_ajax_tip").hasClass("success")?(feedback_submit(),console.log($("#feedback_type").val()),void 0):($(".feedbackcaptcha").parent().siblings("em").show(),e(),void 0)}),$("#feedbakBox textarea").keyup(function(){n=$("#feedbakBox textarea").val().length,$("#feedbakBox .textareaBox span em").html(200-n),$(this).parent().siblings("em").hide()});var o=$(".fileerrorTip"),r=o.html();$("#feedbackupload").fileupload({url:"/common/feedback/image_upload/",dataType:"json",autoUpload:!0,add:function(t,s){var i=[],n=/^(png|jpg|jpeg)$/i,c=s.originalFiles[0].size/1024;Ntype=s.originalFiles[0].name.split(".")[1],n.test(Ntype)?(o.html("").hide(),$("#feedbakBox .showFileName").html(s.originalFiles[0].name),$(".file>span").html("重新上传"),a()):($("#feedbakBox .showFileName").html(""),o.html("支持图片格式：png、jpg、jpeg").show(),i.push("Not an accepted file type"),e(),setTimeout(function(){o.html(r)},2e3)),parseInt(c)>500&&(o.html("文件超过500KB大小！").show(),i.push("Filesize is too big"),e(),setTimeout(function(){o.html(r)},2e3)),0==i.length&&s.submit()},done:function(e,t){var a=t.result.image_url;$("#hideen_image_url").val(a)}})});var t=function(){$("input[type=reset]").trigger("click"),$(".feedbackcaptcha").empty(),e("./main").captcha(".feedbackcaptcha",""),$("#hideen_image_url").val(""),$("#feedbakBox .showFileName").html(""),$(".file>span").html("上传图片")}});var feedback_submit=function(){var e={feedback_type:$("#feedback_type option:selected").val(),feedback_content:$("#feedback_content").val(),contact:$("#telphone").val(),image_url:$("#hideen_image_url").val(),current_url:window.location.href};
$.ajax({type:"post",url:"/common/feedback/save/",dataType:"json",data:e,success:function(){$("#feedbakBox").modal("hide"),$("#feedbakBoxSuccess").modal("show"),setTimeout(function(){$("#feedbakBoxSuccess").modal("hide")},2e3)}})};define("/js/lps4/dist/courseAppointment",["swiperjs"],function(e){function t(){u.css({"z-index":100,opacity:1,filter:"Alpha(Opacity = 100)"}),setTimeout(function(){h.css({margin:"0 auto 0"}),$(document.body).css({position:"fixed",width:"100%"})},500)}function a(){h.css({margin:"-500px auto 0"}),setTimeout(function(){u.css({"z-index":-100,opacity:0,filter:"Alpha(Opacity = 0)"}),$(document.body).removeAttr("style")},500)}function s(e,t){e.wrap('<div class="tips-box"></div>').after('<span class="tips">'+t+"</span>"),setTimeout(function(){e.unwrap().siblings().remove(".tips"),e.focus()},4e3)}function i(e){e.success?o(_,60):(g=e.message,s(m,g))}function n(){$.ajax({type:"POST",url:"/course/mobile/sendsms/",data:{mobile:$("#phone-num").val(),career_id:$("#meeting_career_id").val(),class_time:$("#meeting_class_time").val(),type:"verifyMobile"},dataType:"json",success:i,error:function(e){console.log(e.success)}})}function o(e,t){var a=null;e.addClass("send").val("重新发送(60s)").attr("disabled","disabled"),a=setInterval(function(){t--,e.val("重新发送("+t+"s)"),0>=t&&(clearInterval(a),e.removeClass("send").val("重新发送").removeAttr("disabled"))},1e3)}function r(){new Swiper(".swiper-container",{loop:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",preloadImages:!1,lazyLoading:!0})}function c(){$.ajax({type:"POST",url:"/course/publicmeeting/save/",data:{mobile:m.val(),career_id:$("#meeting_career_id").val(),class_time:$("#meeting_class_time").val(),qq_group:$("#meeting_qq_group").val(),task_title:$("#task_title").val()},dataType:"JSON",success:function(e){"success"==e.status&&(t(),$("#verification").val(""))}})}function l(){$.ajax({type:"POST",url:"/course/mobile/verify/",data:{mobile:$("#phone-num").val(),mobile_code:$("#verification").val(),career_id:$("#meeting_career_id").val(),class_time:$("#meeting_class_time").val()},dataType:"json",success:function(e){e.success?c():(g="手机验证码输入错误，请重试",s(f,g))}})}e("swiperjs");var d,u,h,p,m,f,v,g,_;d=$(".just-appo-btn"),u=$(".appo-success-modal"),h=$(".appo-success"),p=$(".appo-success-close"),m=$("#phone-num"),f=$("#verification"),_=$(".send-verif"),v=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,d.on("click",function(){""==m.val()?(g="请输入正确的手机号",s(m,g)):v.test(m.val())?""==f.val()?(g="手机验证码输入错误，请重试",s(f,g)):l():(g="请输入正确的手机号",s(m,g))}),p.on("click",function(){a()}),$(window).scroll(function(){var e,t,a;e=$(".course_appointment .main-container > .left").height(),t=$(".course_appointment .main-container > .right").css("height",e+"px"),a=$(".appointment-form"),a.offset().top>1045?a.css({top:"auto",bottom:"86px",position:"absolute"}):a.offset().top-$(".head-container").offset().top>158&&a.removeAttr("style")}),_.on("click",function(){""==m.val()?(g="请输入正确的手机号",s(m,g)):v.test(m.val())?n():v.test(m.val())||(g="请输入正确的手机号",s(m,g))}),r()});