/*! LPS4.0 2016-11-02
* To be, or not to be- that is the question 
*/
define("/js/lps4/uc/main",["jquery","function","bootstrap","./search.js","./userCenter","layerjs"],function(e,t,a){function s(e){var t="";t+='<div id="imgzoom"><i class="imgzoom-close"></i><div id="imgzoom-image-ctn">',t+='<img class="img" src="'+e+'" alt=""/>',t+="</div></div>",f("body").append(t);var a=f("#imgzoom-image-ctn"),s=f(window).height()-56;a.find(".img").load(function(){var e=a.outerHeight(),t=a.outerWidth(),n=a.outerWidth()/a.outerHeight();a.outerWidth()>e?a.outerHeight()>s&&(e=s-20,t=e*n):t>1160&&(t=1160,e=1160/n),a.css({left:"50%",top:"50%",marginLeft:-t/2,marginTop:-e/2})}),f("#imgzoom").height(s).fadeIn("fast","linear"),f(".imgzoom-close").on("click",function(){f("#imgzoom").remove()})}function n(e,t){window.setInterval(function(){var a=0,s=0,n=0,i=0;e>0&&(a=Math.floor(e/86400),s=Math.floor(e/3600)-24*a,n=Math.floor(e/60)-60*24*a-60*s,i=Math.floor(e)-60*60*24*a-60*60*s-60*n),9>=n&&(n="0"+n),9>=i&&(i="0"+i),f(t+"#day_show").html(a+"天"),f(t+"#hour_show").html(s+"时"),f(t+"#minute_show").html(n+"分"),f(t+"#second_show").html(i+"秒"),e--},1e3)}function i(e){var t={tabNav:".tab_menu > li",tabBox:".tab_box > div",select:"active",type:"show"},a=e;f.extend(t,e);var s=f(t.tabNav||a.tabNav);s.click(function(){f(this).addClass(t.select||a.select).siblings().removeClass(t.select||a.select);var e=s.index(this);switch(t.type){case"show":f(t.tabBox||a.tabBox).eq(e).show().siblings().hide();break;case"slide":f(t.tabBox||a.tabBox).eq(e).slideDown(300).siblings().slideUp(300);break;case"fade":f(t.tabBox||a.tabBox).eq(e).fadeIn(300).siblings().fadeOut(300)}})}function r(e){location.href="/course/list/?catagory="+e}function o(){c()}function c(e){f("#id_account_l").val(""),f("#id_password_l").val(""),f("#id_email").val(""),f("#id_password").val(""),f("#id_captcha_1").val(""),f("#id_mobile").val(""),f("#id_mobile_code").val(""),f("#id_password_m").val(""),f("#id_captcha_m_1").val(""),f("#id_captcha_1").val(""),f("#login-form-tips").hide(),f("#findpassword-tips").hide(),f("#mobile_code_password-tips").hide(),f("#register-tips").hide(),f("#loginModal").modal("show"),e!==void 0&&f("#loginModal #login-form-tips").show().html(e)}function l(){f.ajax({cache:!1,type:"POST",url:"/user/login/",data:f("#login_form").serialize(),async:!0,beforeSend:function(){f("#login_btn").html("登录中..."),f("#login_btn").attr("disabled","disabled")},success:function(e){if(e.account_l)f("#login-form-tips").html(e.account_l).show(500),f("#id_account_l").focus();else if(e.password_l)f("#login-form-tips").html(e.password_l).show(500),f("#id_password_l").focus();else{if("success"==e.status)return"True"==e.onepay_status?window.location.replace("/"):window.location.replace(e.url),d()!==!1&&window.location.reload(),void 0;"failure"==e.status&&("no_active"==e.msg?(g=f("#id_account_l").val(),_=g,p(!1,g,f("#id_password_l").val())):f("#login-form-tips").html("账号或者密码错误，请重新输入").show(500))}},complete:function(){f("#login_btn").html("登录"),f("#login_btn").removeAttr("disabled")}})}function d(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),a=e.indexOf("Trident/");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(a>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}return!1}function u(e){var t=e||"mobile_register_form";"mobile_register_form"==t?(f(".active .form-control").val().length>0&&f(".active .form-control").next("label").css({transform:"translateY(-18px)"}),f.ajax({type:"POST",url:"/user/register/mobile_verify/",data:{type:"mobile",mobile:f("#id_mobile_code").val(),password_m:f("#id_password_m").val(),geetest_challenge:f(".geetest_challenge").attr("value"),geetest_validate:f(".geetest_validate").attr("value"),geetest_seccode:f(".geetest_seccode").attr("value"),mobile_code:"-11111"},beforeSend:function(){f(".sign_btn").html("注册中..."),f("sign_btn").attr("disabled","disabled")},success:function(e){"success"==e.status?(f.ajax({type:"POST",url:"/user/register/mobile/sendsms_signup/",data:{mobile:f("#id_mobile_code").val(),geetest_challenge:f(".geetest_challenge").attr("value"),geetest_validate:f(".geetest_validate").attr("value"),geetest_seccode:f(".geetest_seccode").attr("value")},success:function(e){e.mobile?(f(".verify-tips").removeClass("success").addClass("error").html(e.mobile).show(500),f(".tab-pane.active .captcha").siblings(".v_sign_tips").addClass("error").html(e.mobile).show(500)):e.captcha?f(".verify-tips").removeClass("success").addClass("error").html(e.captcha).show(500):"failure"==e.status?f(".verify-tips").removeClass("success").addClass("error").html("短信验证码发送失败").show(500):(f(".verify-tips").removeClass("error").addClass("success").html(e.info).show(500),f("#mobile_register_form").hide().siblings("#verify_form").show("fast",function(){f(".sign-tabs li").unbind("click")}),show_send_sms(60))}}),f(".user_mobile").html(f("#id_mobile_code").val().substring(0,3)+"****"+f("#id_mobile_code").val().substring(8,11)),f("#verify-ok").on("click",function(){f.ajax({type:"POST",url:"/user/register/mobile/",data:{type:"mobile",mobile:f("#id_mobile_code").val(),password_m:f("#id_password_m").val(),geetest_challenge:f(".geetest_challenge").attr("value"),geetest_validate:f(".geetest_validate").attr("value"),geetest_seccode:f(".geetest_seccode").attr("value"),mobile_code:f("#Verify").val(),partner:f("#reg_partner").val(),openid:f("#reg_openid").val(),invitation_code:f("#invitation_code").val()},beforeSend:function(){},success:function(e){e.mobile_code?f(".verify-tips").removeClass("success").addClass("error").html(e.mobile_code).show(500):window.location="/user/sign_success/"}})})):e.mobile?f(".m_sign_tips").addClass("error").html(e.mobile).show(500):e.password_m?f(".p_sign_tips").addClass("error").html(e.password_m).show(500):e.captcha&&f(".tab-pane.active .captcha").siblings(".v_sign_tips").addClass("error").html(e.captcha).show(500)},complete:function(){f(".sign_btn").html("注册"),f(".sign_btn").removeAttr("disabled")}})):"email_register_form"==t&&f.ajax({cache:!1,type:"POST",url:"/user/register/email/",data:{type:"email",email:f("#id_email").val(),password:f("#id_password").val(),geetest_challenge:f("#email_register_form .geetest_challenge").attr("value"),geetest_validate:f("#email_register_form .geetest_validate").attr("value"),geetest_seccode:f("#email_register_form .geetest_seccode").attr("value"),partner:f("#reg_partner").val(),openid:f("#reg_openid").val(),invitation_code:f("#invitation_code").val()},async:!0,beforeSend:function(){f(".sign_btn").html("注册中..."),f(".sign_btn").attr("disabled","disabled")},success:function(e){e.email?f("label[for=email]").siblings(".e_sign_tips").addClass("error").html(e.email).show(500):e.password?f("label[for=password]").siblings(".e_sign_tips").addClass("error").html(e.password).show(500):e.email_ue?f(".tab-pane.active .captcha").siblings(".v_sign_tips").addClass("error").html(e.email_ue).show(500):e.captcha?f(".tab-pane.active .captcha").siblings(".v_sign_tips").addClass("error").html(e.captcha).show(500):(f("#email_register_form").hide().siblings("#email_form").show(),f(".email-tips").addClass("success"),f(".user_email").html(f("#id_email").val()))},complete:function(){f(".sign_btn").html("注册"),f(".sign_btn").removeAttr("disabled")}})}function m(){f.ajax({cache:!1,type:"POST",url:"/user/password/find/",data:{account:f("#id_account").val(),geetest_challenge:f("#find_password_form .geetest_challenge").attr("value"),geetest_validate:f("#find_password_form .geetest_validate").attr("value"),geetest_seccode:f("#find_password_form .geetest_seccode").attr("value")},async:!0,beforeSend:function(){f("#findpassword_btn").html("提交中..."),f("#findpassword_btn").attr("disabled","disabled")},success:function(e){e.account?f("#findpassword-tips").html(e.account).show(500):e.captcha?f("#findpassword-tips").html(e.captcha).show(500):e.email_ue?f("#findpassword-tips").html(e.email_ue).show(500):e.mobile?f("#findpassword-tips").html(e.mobile).show(500):f("#id_account").val().indexOf("@")>0?f("#findpassword-tips").html("找回密码邮件已发送").show(500):("failure"==e.status?f("#mobile_code_password_form_message").html("手机短信验证码发送失败！"):(f("#mobile_code_password_form_message").html("手机短信验证码已发送，请查收！"),show_send_sms(60)),f("#id_mobile_f").val(f("#id_account").val()),f("#forgetpswModal").modal("hide"),f("#forgetpswMobileModal").modal("show"))},complete:function(){f("#findpassword_btn").html("提交"),f("#findpassword_btn").removeAttr("disabled")}})}function p(e,t){var a=!0;if(e)a=!0;else{f("#emailValidate .close").unbind().click(function(){f("#emailValidate").modal("hide")}),f("#registerModal").modal("hide"),f("#addemailModal").modal("hide"),f("#emailValidate").modal("show");var s=f(".zy_email .a>a"),n=t.split("@")[1];s.attr("href",$[n]),f("#emailValidateEE span").html(t),(void 0==$[n]||null==$[n])&&s.parent().hide(),a=!1}return a}function h(t,a){switch(a=a||{},t){case"index":e.async("./index");break;case"signUP":e.async("./signUP",function(e){e.init(T,x,k,u,this)});break;case"newCouse":e.async("./newCouse",function(e){e.init(this)});break;case"studentM":e.async("./studentM",function(e){e.init(this,a)});break;case"newCouseD":e.async("./newCouseD",function(e){e.init(this)});break;case"statisticsL":e.async("./statisticsL",function(e){e.init(this)});break;case"statisticsM":e.async("./statisticsM",function(e){e.init(this,a)});break;case"broadcastM":e.async("./broadcastM",function(e){e.init(this)});break;case"classM":e.async("./classM",function(e){e.init(this,a)});break;case"lessonVideo":e.async("./lessonVideo",function(e){e.init(this)});break;case"lessonVideoLists":e.async("./lessonVideoLists",function(e){e.init(this)});break;case"articleList":e.async("./articleList",function(e){e.init(this)});break;case"articleDetail":e.async("./articleDetail",function(e){e.init(this)});break;case"personalCenterSinfo":e.async("./personalCenterSinfo",function(e){e.init(this)});break;case"personalCenterStaste":e.async("./personalCenterStaste",function(e){e.init(this)});break;case"personalCenter":e.async("./personalCenter",function(e){e.init(this)});break;case"personalCenterSbasic":e.async("./personalCenterSbasic",function(e){e.init(this,a)});break;case"educationalCenter":e.async("./educationalCenter",function(e){e.init(this,a)});break;case"teacherCenterING":e.async("./teacherCenterING",function(e){e.init(this)});break;case"personalCenterSjob":e.async("./personalCenterSjob",function(e){e.init(this,a)});break;case"personalCenterResume":e.async("./personalCenterResume",function(e){e.init(this,a)});break;case"personalCenterSsetting":e.async("./personalCenterSsetting",function(e){e.init(this)});break;case"tutorials_list":e.async("./tutorials_list",function(e){e.init(this)});break;case"tutorials_article":e.async("./tutorials_article",function(e){e.init(this)});break;case"teacherIntroduce":e.async("./teacherIntroduce");break;case"courseIntroduce":e.async("./courseIntroduce");break;case"teacherRecruit":e.async("./teacherRecruit");break;case"teacherRecruitForm":e.async("./teacherRecruitForm",function(e){e.init(this)});break;case"freeLearn":e.async("./free_learn");break;case"proAnswer":e.async("./proAnswer");break;case"trycourseteacher":e.async("./trycourseteacher");break;case"trymanageteacher":e.async("./trymanageteacher");break;case"personalCenterStudent":e.async("./personalCenterStudent");break;case"studentmyanswerdetail":e.async("./studentmyanswerdetail");break;case"studentmyanswer":e.async("./studentmyanswer",function(e){e.init(this)});break;case"wikiArticle":e.async("./wikiArticle");break;case"feedbackBox":e.async("./feedbackBox");break;case"search_result":e.async("./search_result");break;case"courseAppointment":e.async("./courseAppointment")}}var f=e("jquery");e("function"),e("bootstrap")(f),f(".index").length>0||e("./search").Search(),f(".personalFeedbackLmenu a").mouseover(function(){f(this).addClass("active"),f(this).siblings(".feedboxTip").stop().slideDown(150).animate({opacity:"1"},400)}),f(".feedboxTip .closed").click(function(){f(this).parent().siblings("a").removeClass("active"),f(this).parent().stop().animate({opacity:"0"},250).slideUp(500)});var v=f(".topRight").attr("login");if("True"==v){var b=f(".nick_name a:first-child");b.attr("data-name").length>=4?b.text(b.attr("data-name").substring(0,4)+"..."):b.text(b.attr("data-name"))}var g="",_="",$={"qq.com":"http://mail.qq.com","gmail.com":"http://mail.google.com","sina.com":"http://mail.sina.com.cn","163.com":"http://mail.163.com","126.com":"http://mail.126.com","yeah.net":"http://www.yeah.net/","sohu.com":"http://mail.sohu.com/","tom.com":"http://mail.tom.com/","sogou.com":"http://mail.sogou.com/","139.com":"http://mail.10086.cn/","hotmail.com":"http://www.hotmail.com","live.com":"http://login.live.com/","live.cn":"http://login.live.cn/","live.com.cn":"http://login.live.com.cn","189.com":"http://webmail16.189.cn/webmail/","yahoo.com.cn":"http://mail.cn.yahoo.com/","yahoo.cn":"http://mail.cn.yahoo.com/","eyou.com":"http://www.eyou.com/","21cn.com":"http://mail.21cn.com/","188.com":"http://www.188.com/","foxmail.coom":"http://www.foxmail.com"},w=60,y="";this.sendECount,this.zy_Countdown=function(){w--,f(".sendE2 span").html(w+"s"),f(".zy_success span").html(y),58>w&&f(".zy_success").addClass("upmove"),0>=w&&(w=60,f(".sendE2").hide(),f(".sendE").show(),clearInterval(sendECount))};var x,k,C,T=function(e,t,a){a=a||function(){};var s={obj:e,ty:t};void 0==s.ty&&(s.ty="");var n=function(e){switch(e.appendTo(s.obj),e.onSuccess(function(){f(".tab-pane.active .captcha").siblings(".v_sign_tips").removeClass("error").html("").show(500)}),s.ty){case"mobile/":x=e;break;case"verifyMobile/":a.call(this,e);break;case"verifyEmail/":a.call(this,e);break;case"":C=e;break;default:k=e}};f.ajax({url:"/geetest/getcaptcha/"+s.ty,type:"get",dataType:"json",success:function(e){initGeetest({gt:e.gt,challenge:e.challenge,product:"float",offline:!e.success},n)}})};this.captchaMy=T,this.openVideo=function(e){e||(e="http://ocsource.maiziedu.com/lps_intro.mp4"),f("#microohvideo").children().attr("src",e),f("#VideoDemo").modal("show")},this.openVideo2=function(e){e||(e="http://ocsource.maiziedu.com/lps_intro.mp4"),f("#microohvideo2").children().attr("src",e),f(".teacherVideo").fadeIn()},this.mobile_code_password_form_submit=function(){f.ajax({cache:!1,type:"POST",url:"/user/password/find/mobile/",data:f("#mobile_code_password_form").serialize(),async:!0,beforeSend:function(){f("#mobile_code_password_btn").html("提交中..."),f("#mobile_code_password_btn").attr("disabled","disabled")},success:function(e){e.mobile_code_f?(f("#mobile_code_password-tips").html(e.mobile_code_f).show(500),f("#id_mobile_code_f").focus()):"success"==e.status&&(account=f("#id_account").val(),code=f("#id_mobile_code_f").val(),location.href="/user/password/reset/"+account+"/"+code)},complete:function(){f("#mobile_code_password_btn").html("提交"),f("#mobile_code_password_btn").removeAttr("disabled")}})};var S=!0;this.show_send_sms=function(e){return f("#forgetpswMobileModal .send-verify,#verify_form .send-verify").html("重发验证码（"+e+"s）").css({background:"#D6D6D6"}).attr("disabled","disabled"),0>=e?(f(".verify-tips.success").hide(500),f("#forgetpswMobileModal .send-verify,#verify_form .send-verify").html("重发验证码").css({background:"#5ECFBA"}).removeAttr("disabled"),S=!0,void 0):(e--,setTimeout("show_send_sms("+e+")",1e3),void 0)},this.send_sms_code=function(){show_send_sms(60);var e=f("#id_mobile_code").val(),t="";(""==e||void 0==e)&&(e=f("#id_mobile_f").val(),t="change"),S&&(f.ajax({cache:!1,type:"POST",url:"/user/register/mobile/sendsms_signup/",data:{mobile:e,geetest_challenge:f(".geetest_challenge").attr("value"),geetest_validate:f(".geetest_validate").attr("value"),geetest_seccode:f(".geetest_seccode").attr("value"),way:t},async:!0,success:function(e){e.mobile?""!=t?f("#mobile_code_password_form_message").css({background:"#f2dede"}).html(e.mobile):f(".verify-tips").removeClass("success").addClass("error").html(e.mobile).show(500):e.captcha?""!=t?f("#mobile_code_password_form_message").css({background:"#f2dede"}).html(e.captcha):f(".verify-tips").removeClass("success").addClass("error").html(e.captcha).show(500):"success"==e.status?""!=t?f("#mobile_code_password_form_message").css({background:"#f2dede"}).html(""):(f(".verify-tips").removeClass("error").addClass("success").html(e.info).show(500),show_send_sms(60)):"failure"==e.status&&(""!=t?f("#mobile_code_password_form_message").css({background:"#f2dede"}).html("请稍后再试"):f(".verify-tips").removeClass("success").addClass("error").html("短信验证码发送失败").show(500))},complete:function(){f("#send-verify").html("重发验证码"),f("#send-verify").removeAttr("disabled")}}),S=!1)};var j=[],E=function(){f(".modal").on("show.bs.modal",function(){for(var e=0;j.length>e;e++)j[e]&&(j[e].modal("hide"),j[e]=null);j.push(f(this));var t=f(this),a=t.find(".modal-dialog"),s=f('<div style="display:table; width:100%; height:100%;"></div>');s.html('<div style="vertical-align:middle; display:table-cell;"></div>'),s.children("div").html(a),t.html(s)}),f(".zy_close").on({click:function(){f(this).parent().parent().parent().parent().parent().modal("hide")}}),f(".toolbar-item-gotop").click(function(){f("html,body").stop().animate({scrollTop:"0px"},800)}),login_popupvar&&c(),f(".globalLoginBtn").on("click",o),f(".top_user .sp").on("click",function(e){e.preventDefault(),e.stopPropagation(),f(".show-card-wrap").toggleClass("in")}),f(document).on("click",function(){f(".show-card-wrap").removeClass("in")}),f(".top_meg").hover(function(){f(this).children(".bubble").show()},function(){f(this).children(".bubble").hide()}),f(".topSreach").click(function(){f(this).parent().parent().toggleClass("sH")}),f(".topSreachTxt,.sreachBBoxTxt").keydown(function(e){13==e.keyCode&&r(f(this).val())}),f(".sreachBBoxBtn").click(function(){r(f(".sreachBBoxTxt").val())}),f(".section1_sreach_txt").keydown(function(e){13==e.keyCode&&r(f(this).val())}),f(".section1_sreach_btn").click(function(){r(f(".section1_sreach_txt").val())}),f(".class53").click(function(){f("#KFLOGO .Lelem").eq(0).trigger("click")}),f(".toolbar-item-weibo>div").hover(function(){},function(){f(this).stop().hide("fast")}),f(".toolbar-item-weibo").click(function(){f(".lixianB").show()}),f(".toolbar-item-weixin").unbind().click(function(){f("#KFLOGO .Lelem").eq(0).trigger("click")});var e=!0;f("#btnForgetpsw").on("click",function(){C&&C.refresh(),e&&(T(".newcaptcha"),e=!1),f("#forgetpswModal").modal("show"),f("#loginModal").modal("hide")}),f("#forgetpswMobileModal .send-verify").click(function(){send_sms_code("verify_form","verify-tips")}),f("#mobile_code_password_btn").click(mobile_code_password_form_submit),f("#login_form").keydown(function(e){13==e.keyCode&&l("login-form-tips")}),f(".globalLogin").on("click",function(){l("login-form-tips")}),f("#find_password_form").keydown(function(e){13==e.keyCode&&m()}),f(".sendE a").click(function(){sendECount=setInterval(zy_Countdown,1e3),f(".zy_success").removeClass("upmove"),f(this).parent().hide(),f(".sendE2").show().find("span").html("60s"),f.ajax({type:"GET",url:"/user/send_again_email",data:{username:f("#id_account_l").val()},dataType:"html",success:function(e){y="验证邮件发送成功",e&&zy_Countdown()},error:function(){y="验证邮件发送失败"}})}),f("#findpassword_btn").click(m)};a.exports={init:E,imgpopup:s,tab:i,cutTimer:n,loading:h,login_popup:c,captcha:T,jg:f},E(),e("./userCenter")}),define("/js/lps4/uc/search",["jquery"],function(e,t,a){function s(){function e(e){var e=e.replace("#","u0023").replace("?","u0022");if(n(".search_result_bg").length>0){var t=n(".search_app").val()?n(".search_app").val():"course";window.location.href="/search/"+t+"/"+e+"-1/"}else window.open("/search/course/"+e+"-1/")}n(".search-btn").click(function(){e(n("#data-search").val()),zhuge.track("搜索次数",{"搜索关键词":n("#data-search").val()})}),n("#data-search").keyup(function(t){var a=t||window.event||arguments.callee.caller.arguments[0];return a&&13==a.keyCode?(e(n(this).val()),void 0):void 0})}var n=e("jquery");if(n(".search_result_bg").length>0){var i=n(".search_app").val()?n(".search_app").val():"course";n(".hot-words a").attr("target","_self"),n("#fLayerdl dd a").attr("target","_self"),n(".hot-words a").attr("href","/search/"+i+"/web前端-1/"),n(".hot-words a:first-child").attr("href","/search/"+i+"/产品经理-1/"),n(".hot-words a:last-child").attr("href","/search/"+i+"/ui-1/")}a.exports={Search:s}}),define("/js/lps4/uc/userCenter",["layerjs"],function(e){e("layerjs"),$(".personalCTop .font .personalCico").hover(function(){console.log($(this).attr("title")),layer.tips($(this).attr("title"),$(this),{tips:[1,"#333333"]})},function(){});var t=window.zhuge||!1;if(t){var a="";window.otherPage&&(a="第三方访问",t.track("第三方进入该个人中心的次数",{"事件位置":document.title,"热点关键词":"第三方"})),$(".personalCmainLmenu li a").click(function(e){var s=$(e.target.parentNode).text();t.track(a+"个人中心侧边菜单点击次数",{"事件位置":"个人中心侧边菜单","热点关键词":s,"页面标题":document.title})}),$(".pCcourseList li .describe .pbtn").click(function(){"继续学习"==$(this)&&t.track("已报名课程中点击继续学习的点击数",{"事件位置":"已报名课程","热点关键词":"继续学习"})}),$(".personalCenterStasteList li .font .pcbtnP > a").click(function(){t.track("体验课程中点击的点击数",{"事件位置":"体验课程","热点关键词":$(this).text()})}),$(".teacherCenterList li > a").click(function(){t.track("老师个人中心小课程的次数",{"事件位置":"老师个人中心","热点关键词":$(this).find(".font").children(".bold").text()})}),$(".teacherCenterENDbox > .a").click(function(){t.track("已毕业中点击班级历史数据的次数",{"事件位置":"老师已毕业班级","热点关键词":"班级历史数据"})}),$(".eCother .personalCbtn").click(function(){t.track("第三方点击查看职业课程的次数",{"事件位置":"教务面板","热点关键词":"去看看麦子职业课程"})})}}),define("/js/lps4/uc/search",["jquery"],function(e,t,a){function s(){function e(e){var e=e.replace("#","u0023").replace("?","u0022");if(n(".search_result_bg").length>0){var t=n(".search_app").val()?n(".search_app").val():"course";window.location.href="/search/"+t+"/"+e+"-1/"}else window.open("/search/course/"+e+"-1/")}n(".search-btn").click(function(){e(n("#data-search").val()),zhuge.track("搜索次数",{"搜索关键词":n("#data-search").val()})}),n("#data-search").keyup(function(t){var a=t||window.event||arguments.callee.caller.arguments[0];return a&&13==a.keyCode?(e(n(this).val()),void 0):void 0})}var n=e("jquery");if(n(".search_result_bg").length>0){var i=n(".search_app").val()?n(".search_app").val():"course";n(".hot-words a").attr("target","_self"),n("#fLayerdl dd a").attr("target","_self"),n(".hot-words a").attr("href","/search/"+i+"/web前端-1/"),n(".hot-words a:first-child").attr("href","/search/"+i+"/产品经理-1/"),n(".hot-words a:last-child").attr("href","/search/"+i+"/ui-1/")}a.exports={Search:s}}),define("/js/lps4/uc/personalCenter",[],function(e,t,a){function s(){n()}var n=function(){$(".pCcourseList li").each(function(e,t){var a=$(t).find(".pcircle").attr("percents");a&&setTimeout(function(){a=parseInt(a,10),$(t).find(".c").attr("stroke-dasharray",parseInt(280*(a/100),10)+" 280")},400)});var e=$("#user_center_course_record").val();"true"==e&&$("#interestCourse").modal("show");var t,a,s=0;t=$("#interestCourse .modal-body li"),a=$("#interestCourse .modal-footer span"),a.click(function(){pages=parseInt((t.length-1)/6),pages>s?s++:s=0,t.hide().slice(6*s,6*(s+1)).fadeIn()}),6>=t.length&&a.unbind("click")};a.exports={init:s}}),define("/js/lps4/uc/personalCenterSbasic",["radio","Validform","Jcrop","JcropCss","uiwidget","fileupload"],function(e,t,a){function s(e,t){h=e,_=t,j()}function n(e,t){var a=new Image;return a.src=e,a.complete?t(a.width,a.height):a.onload=function(){t(a.width,a.height)},a}function i(e){if(parseInt(e.w)>0){var t=k/e.w,a=C/e.h;$(".cuttPictureBoxR img").css({width:Math.round(t*f)+"px",height:Math.round(a*v)+"px",marginLeft:"-"+Math.round(t*e.x)+"px",marginTop:"-"+Math.round(a*e.y)+"px"})}}function r(e){$("#x").val(e.x),$("#y").val(e.y),$("#w").val(e.w),$("#h").val(e.h)}function o(e){return $.ajax({type:"POST",url:"/home/settings/bind_mobile/sendsms/",data:{mobile:$("#newPhone .pcsBasicTableTxt").val(),type:"verifyMobile",geetest_challenge:$("#newPhone .geetest_challenge").attr("value"),geetest_validate:$("#newPhone .geetest_validate").attr("value"),geetest_seccode:$("#newPhone .geetest_seccode").attr("value")},dataType:"json",beforeSend:function(){e.css("pointer-events","none")},success:function(e){e.success?($("#newPhone2").modal("show"),y=$("#newPhone .pcsBasicTableTxt").val()):($("#newPhone .megError").html(e.message).slideDown(),w.refresh())},complete:function(){e.css("pointer-events","auto")}})}function c(e,t,a){S--,e.html(S),0>=S&&(S=t||S,a.call(this),clearInterval(T))}function l(){var e=$(this);e.html("重发验证码(<span>60</span>s)").css("pointer-events","none"),$.ajax({type:"POST",url:"/home/settings/bind_mobile/sendsms/",data:{mobile:y,retry:!0},dataType:"json",beforeSend:function(){},success:function(t){if(t.success){var a=$("#newPhone2 .fg > a");$("#newPhone2 .pm").html("手机短信验证码已发送，请查收！").slideDown(),e.removeAttr("style").addClass("smsend"),T=setInterval(d($("#newPhone2 .fg > a>span"),60,function(){a.html("重发验证码").removeClass("smsend"),a.unbind().click(l),e.css("pointer-events","auto")}),1e3)}else $("#newPhone2 .pm").html(t.message).slideDown()},complete:function(){}})}function d(e,t,a){return S=t||S,clearInterval(T),function(){c(e,t,a)}}function u(e,t,a,s,n,i,r){var o=$(this);$.ajax({type:"POST",url:"/home/settings/avatar/save/",data:{img_url:e,picwidth:t,picheight:a,width:s,height:n,left:i,top:r},dataType:"json",beforeSend:function(){o.css("pointer-events","none")},success:function(e){e.success?location.reload():alert(e.message)},complete:function(){o.css("pointer-events","auto")}})}function m(){$.ajax({type:"POST",url:"/home/settings/avatar/random/",dataType:"json",success:function(e){e.success?$(".pcsBasicTableOne .img img,.personalCTop .img img,.top_user .ai img,.zy_userDiv .d1 img").attr("src",e.data.avatar):alert(e.message)}})}function p(){var e=$(this);$.ajax({type:"POST",url:"/home/base/citylist/"+e.val()+"/",dataType:"json",success:function(e){if(e.success){var t=$(".pcsBasicTable .pccity");t.html("");for(var a=e.data.list,s=0;a.length>s;s++)t.append('<option value="'+a[s].city_id+'">'+a[s].city_name+"</option>")}else alert(e.message)}})}e("radio")($),e("Validform")($),e("Jcrop")($),e("JcropCss"),e("uiwidget")($),e("fileupload")($);var h,f,v,b,g,_,w,y,x,k=120,C=120;$.Deferred();var T,S=60,j=function(){function e(){$(".pcsBasicTable .bir").val($("#year1").val()+"-"+$("#month2").val()+"-"+$("#day3").val())}$(".pcsRadio").statisticsRadio(),$(".cuttPictureBoxL .pb > a.a2").click(function(){$("#cuttPictureFile").trigger("click")}),$(".cuttPictureBoxL .pb > a.a1").click(function(){var e=$(".cuttPictureBoxL .picY"),t=e.width()>250?250:e.width(),a=e.height()>250?250:e.height();u.call(this,e.attr("src"),t,a,$("#w").val(),$("#h").val(),$("#x").val(),$("#y").val())}),$(".pcsBasicTableOne .imgSelect").click(m),$(".pcsBasicTable .pcprovince").change(p);var t;$("#cuttPictureFile").fileupload({url:"/home/settings/avatar/upload/",dataType:"json",autoUpload:!0,done:function(e,a){if(a=a.result,a.success){var s=a.data.img_url;x=s,n(s,function(e,a){$(".cuttPictureBoxR img").attr("src",s);var n=$("<img/>").addClass("picY");n.attr("src",s).attr("id","cuttPictureImg"),$(".cuttPictureBoxR img").removeAttr("style"),$(".cuttPictureBoxL .img").html(n),$("#cuttPictureImg").Jcrop({onChange:i,onSelect:r,aspectRatio:1},function(){t=this,t.animateTo([0,0,100,100]);var s=this.getBounds();f=s[0],v=s[1],b=e,g=a})})}else alert(a.message)},progressall:function(){}});var a=$("#pcBasicForm").Validform({btnSubmit:".personalCbtn",ajaxPost:!0,datatype:{carded:function(e){if("True"!=_.is_join_job_class&&""==e)return!0;var t=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return t.test(e)===!1?"身份证输入不合法":!0}},tiptype:function(e,t){var a="error";"radio"==t.obj.attr("type")?(t.obj.parent().parent().find(".error").remove(),t.obj.parent().parent().parent().removeClass("er"),2!=t.type&&(t.obj.parent().parent().parent().addClass("er"),t.obj.parent().parent().append("<span class='"+a+"'>"+e+"</span>"))):"hidden"==t.obj.attr("type")?(t.obj.parent().parent().removeClass("er"),t.obj.parent().find(".error").remove(),2!=t.type&&(t.obj.parent().parent().addClass("er"),t.obj.parent().append("<span class='"+a+"'>请绑定手机</span>"))):"text"==t.obj.attr("type")?(t.obj.removeClass("er"),t.obj.parent().find(".error").remove(),2!=t.type&&(t.obj.addClass("er"),t.obj.parent().append("<span class='validform "+a+"'>"+e+"</span>"))):(t.obj.removeClass("er"),t.obj.parent().find(".error").remove(),2!=t.type&&(t.obj.addClass("er"),t.obj.parent().append("<span class='validform "+a+"'>"+e+"</span>")))},beforeCheck:function(){},beforeSubmit:function(){},callback:function(e){e.success?location.href=""==e.next?location.href:e.next:layer.tips(e.message,$("#pcBasicForm .personalCbtn"),{tips:[2,"#e95050"]})}});a.resetForm();var s=_.time||"1990-01-01";new GySetDate({targets:"#year1,#month2,#day3",range:"1900-01-01,2030-09-21",value:s}),e(),$(".pcsBasicTable .birTD select").change(e),$("#newMeg .cl").click(function(){$("#newMeg").modal("hide")}),$(".pcsBasicTable td.ph a").click(function(){$(this).hasClass("addphone")?$("#newPhone .pt span").html("新增手机号"):$("#newPhone .pt span").html("修改手机号"),$(".captchaMy").children().remove(),h.captchaMy(".captchaMy","verifyMobile/",function(e){w=e}),$("#newPhone").modal("show")}),$("#newPhone .personalCbtn").click(function(){var e=$(this);$.when(o(e)).then(function(){$("#newPhone2 .pm").slideUp();var e=$("#newPhone2 .fg > a");e.addClass("smsend").html("重发验证码(<span>5</span>s)"),T=setInterval(d($("#newPhone2 .fg > a>span"),60,function(){e.html("重发验证码").removeClass("smsend"),e.unbind().click(l)}),1e3)})}),$("#newPhone2 .personalCbtn").click(function(){var e=$(this);$.ajax({type:"POST",url:"/home/settings/bind_mobile/",data:{mobile:y,mobile_code:$("#newPhone2 .pcsBasicTableTxt").val()},dataType:"json",beforeSend:function(){e.css("pointer-events","none")},success:function(e){e.success?($(".pcsBasicTable td.ph").html(""),$(".pcsBasicTable td.ph").prepend(y+' <span>(已验证)</span><a class="editphone">修改手机</a>'),$(".pcsBasicTable td.ph input").val(y),$("#newMeg").modal("show"),T=setInterval(d($("#newMeg .p2>span"),5,function(){$("#newMeg").modal("hide")}),1e3)):$("#newPhone2 .pm").html(e.message).slideDown()},complete:function(){e.css("pointer-events","auto")}})});var c=$("#user_center_course_record").val();"true"==c&&$("#interestCourse").modal("show");var k,C,S=0;k=$("#interestCourse .modal-body li"),C=$("#interestCourse .modal-footer span"),C.click(function(){pages=parseInt((k.length-1)/6),pages>S?S++:S=0,k.hide().slice(6*S,6*(S+1)).fadeIn()}),6>=k.length&&C.unbind("click")};a.exports={init:s}}),define("/js/lps4/uc/personalCenterSinfo",["radio","Validform"],function(e,t,a){function s(){r()}function n(e){var t=e;return $.ajax({cache:!1,type:"POST",url:"/home/s/ajax_studing_div/",data:{domain_name:t.attr("pid")},dataType:"html",beforeSend:function(){t.css("pointer-events","none")},success:function(e){$("#pcSBasis .pcSmodalDiv").html(e),$("#pcSBasis").modal("show")},complete:function(){t.css("pointer-events","auto")}})}function i(e){$(".pcsRadio").statisticsRadio();var t=$("#pcInfoForm").Validform({btnSubmit:".personalCbtn",ajaxPost:!0,tiptype:function(e,t){"radio"==t.obj.attr("type")&&(t.obj.parent().parent().parent().removeClass("reder"),2!=t.type&&t.obj.parent().parent().parent().addClass("reder"))},beforeCheck:function(){},beforeSubmit:function(){$("#pcInfoForm .personalCbtn").css("pointer-events","none")},callback:function(t){"404"!=t.status&&(e.attr("pt")?($("#pcSBasisMeg").modal({show:!0,keyboard:!1,backdrop:"static"}),$("#pcSBasisMeg .personalCbtn").attr("href",e.attr("href"))):location.href=location.href,$("#pcInfoForm .personalCbtn").css("pointer-events","auto"))}});t.resetForm()}e("radio")($),e("Validform")($);var r=function(){$(".showpcSBasis").click(function(){var e=$(this);return $.when(n(e)).then(function(){i(e)}),!1}),$("#pcSBasisMeg").on("hide.bs.modal",function(){location.reload()})};a.exports={init:s}}),define("/js/lps4/uc/personalCenterSjob",[],function(e,t,a){function s(){n()}var n=function(){$(".personalCenterSinfoList li .pcICO11").click(function(){$(this).parent().hide().next().show()
}),$(".personalCenterSinfoList li .tableU td.sub .personalCbtn").click(function(){$(this).parent().hide().prev().show(),$(this).parent().prev().find("b").html($(this).prev().val());var e={career_course_id:$(this).attr("pid"),position:$(this).prev().val()};$(this).hasClass("a2")&&(e={career_course_id:$(this).attr("pid"),industry:$(this).prev().val()}),$.ajax({type:"POST",url:"/home/s/ajax_save_job/",data:e,dataType:"html",beforeSend:function(){},success:function(){},complete:function(){}})})};a.exports={init:s}}),define("/js/lps4/uc/personalCenterStaste",[],function(e,t,a){function s(){n()}var n=function(){$(".personalCenterStasteList li").each(function(e,t){var a=$(t).find(".pcircle").attr("percents");a&&setTimeout(function(){a=parseInt(a,10),$(t).find(".c").attr("stroke-dasharray",parseInt(280*(a/100),10)+" 280")},400)})};a.exports={init:s}}),define("/js/lps4/uc/personalCenterSsetting",["Validform"],function(e,t,a){function s(e){o=e,u()}function n(){1>=d&&(clearInterval(c),location.href=$("#newMegPassword .personalCbtn").attr("href")),d--,$("#newMegPassword .p2 .color5e").html(d+"s")}function i(){$.ajax({type:"POST",url:"/home/settings/send_email_again/",dataType:"json",success:function(e){e.success?$("#newMeg").modal("show"):alert(e.message)}})}function r(){var e=$(this);$.ajax({type:"POST",url:"/home/settings/bind_email/sendemail/",data:{email:$("#newEmail .pcsBasicTableTxt").val(),type:"verifyEmail",geetest_challenge:$("#newEmail .geetest_challenge").attr("value"),geetest_validate:$("#newEmail .geetest_validate").attr("value"),geetest_seccode:$("#newEmail .geetest_seccode").attr("value")},dataType:"json",beforeSend:function(){e.css("pointer-events","none")},success:function(e){e.success?$("#newMeg").modal("show"):$("#newEmail .megError").html(e.message).slideDown()},complete:function(){e.css("pointer-events","auto")}})}e("Validform")($);var o,c,l,d=10,u=function(){var e=$("#newPasswordForm").Validform({btnSubmit:".personalCbtn",ajaxPost:!0,datatype:{pw:function(e,t){var a=/^[^\s]+$/,s=t.val();return a.test(t.val())?s.length>=8&&50>=s.length?!0:"请填写8~50位的字符":"不能有空格"}},tiptype:function(e,t){var a="error";"password"==t.obj.attr("type")&&(t.obj.removeClass("er"),t.obj.parent().find(".error").remove(),2!=t.type&&(t.obj.addClass("er"),t.obj.parent().append("<span class='validform "+a+"'>"+e+"</span>")))},beforeCheck:function(){},beforeSubmit:function(){},callback:function(e){e.success?($("#newMegPassword").modal({show:!0,keyboard:!1,backdrop:"static"}),d=10,c=setInterval(n,1e3)):$("#newPassword .megError").html(e.message).slideDown()}});e.resetForm(),$(".personalCenterSsetting_table td.t>a").click(function(){return $(this).hasClass("vEmail")?(i(),void 0):($(this).hasClass("addEmail")?$("#newEmail .pt span").html("新增邮箱"):$("#newEmail .pt span").html("修改邮箱"),$("#newEmail").modal("show"),$(".captchaMy").children().remove(),o.captchaMy(".captchaMy","verifyEmail/",function(e){l=e}),void 0)}),$("#newMeg .cl").click(function(){$(".modal").modal("hide")}),$("#newEmail .personalCbtn").click(r),$("#newMeg").on("hide.bs.modal",function(){location.reload()})};a.exports={init:s}}),define("/js/lps4/uc/personalCenterResume",[],function(e,t,a){function s(e,t){b=e,g=t,T()}function n(){function e(){$(".resume .births").val($("#year1").val()+"-"+$("#month2").val()+"-"+$("#day3").val())}var t=g.birthtime||"1970-01-01";new GySetDate({targets:"#year1,#month2,#day3",range:"1970-01-01,"+w,value:t}),e(),$(".resume .birSelect select").change(e);for(var a=_.getFullYear(),s="",n=$(".resume .info #workDate"),i=0;30>=i;i++)s=a-i==g.worktime?"<option value="+(a-i)+" selected=true>"+(a-i)+"年</option>":"<option value="+(a-i)+">"+(a-i)+"年</option>",n.append(s);s="<option value=0>请选择</option>",n.append(s),0==g.worktime&&n.val("0")}function i(){function e(){$(".resume #experStartTime").val($("#experStartTimeYear").val()+"-"+$("#experStartTimeMonth").val())}function t(){$(this).parent().siblings(".error").text(""),$(".resume #experEndTime").val($("#experEndTimeYear").val()+"-"+$("#experEndTimeMonth").val())}var a=g.experStartTime||"1990-01-01";new GySetDate({targets:"#experStartTimeYear,#experStartTimeMonth,#experStartTimeDay",range:"1990-01-01,"+w,value:a});var s=g.experEndTime||"1990-01-03";new GySetDate({targets:"#experEndTimeYear,#experEndTimeMonth,#experEndTimeDay",range:"1990-01-01,"+w,value:s}),e(),t(),$(".resume .exper .starttime select").change(e),$(".resume .exper .endtime select").change(t)}function r(){function e(){$(".resume #educStartTime").val($("#educStartTimeYear").val()+"-"+$("#educStartTimeMonth").val())}function t(){$(this).parent().siblings(".error").text(""),$(".resume #educEndTime").val($("#educEndTimeYear").val()+"-"+$("#educEndTimeMonth").val())}var a=g.educStartTime||"1990-01-01";new GySetDate({targets:"#educStartTimeYear,#educStartTimeMonth,#educStartTimeDay",range:"1990-01-01,"+w,value:a});var s=g.educEndTime||"1990-01-03";new GySetDate({targets:"#educEndTimeYear,#educEndTimeMonth,#educEndTimeDay",range:"1990-01-01,"+w,value:s}),e(),t(),$(".resume .educ .starttime select").change(e),$(".resume .educ .endtime select").change(t)}function o(e){var t,a,s,n,i,r,o,c;t=$(".resume .exper"),a=$(".resume .exper .experList"),s=t.find("#company").val(),n=t.find("#worlPast").val(),i=t.find("#experStartTime").val(),r=t.find("#experEndTime").val(),o=t.find("#jobDesc").val(),c="",c+='<li id="'+e+'">',c+='<div class="boxTop">',c+='	<span class="title"><span class="exper_start_time">'+i+'</span>—<span class="exper_end_time">'+r+'</span> | <span class="exper_company">'+s+"</span></span>",c+='<span class="handle"><em class="del">删除</em><em class="edit">编辑</em></span>',c+="</div>",c+='<div class="boxCon">',c+='<p><strong>工作岗位：</strong><span class="exper_work_title">'+n+"</span></p>",c+='<p><strong>工作描述：</strong><span class="exper_work_content">'+o+"</span></p>",c+="</div>",c+="</li>",k?a.find("#"+e).replaceWith(c):a.append(c),_exper_create_block=!1,$(".resume .exper .create").remove(),$(".resume .exper #"+y).children(".create").remove(),$(".resume .exper #"+y).children().fadeIn(300),$(".resume .exper .add").fadeIn(300)}function c(e){var t,a,s,n,i,r,o,c;t=$(".resume .educ"),a=$(".resume .educ .experList"),s=t.find("#school").val(),n=t.find("#major").val(),i=t.find("#educStartTime").val(),r=t.find("#educEndTime").val(),o=t.find("#education").val(),c="",c+='<li id="'+e+'">',c+='<div class="boxTop">',c+='	<span class="title"><span class="educ_start_time">'+i+'</span> — <span class="educ_end_time">'+r+'</span> | <span class="educ_school">'+s+"</span></span>",c+='<span class="handle"><em class="del">删除</em><em class="edit">编辑</em></span>',c+="</div>",c+='<div class="boxCon">',c+='<span><em>专业名称：</em><span class="educ_major">'+n+"</span></span>",c+='<span><em>学历：</em><span class="educ_title">'+o+"</span></span>",c+="</div>",c+="</li>",C?a.find("#"+e).replaceWith(c):a.append(c),_educ_create_block=!1,$(".resume .educ .create").remove(),$(".resume .educ #"+x).children(".create").remove(),$(".resume .educ #"+x).children().fadeIn(300),$(".resume .educ .add").fadeIn(300)}function l(){var e=$(".resume .exper");e.find("#company").val(""),e.find("#worlPast").val(""),e.find("#experStartTime").val(""),e.find("#experEndTime").val(""),e.find("#jobDesc").val("")}function d(){var e=$(".resume .educ");e.find("#school").val(""),e.find("#major").val(""),e.find("#educStartTime").val(""),e.find("#educEndTime").val("")}function u(){$(".resume").on({keyup:function(){var e=$(this).val();e.length>50?$(this).siblings(".error").text("字数不超过50个"):0==e.length?$(this).siblings(".error").text("请输入公司名称"):$(this).siblings(".error").text("")}},"#company"),$(".resume").on({keyup:function(){$(this).val().length>50?$(this).siblings(".error").text("字数不超过50个"):0==$(this).val().length?$(this).siblings(".error").text("请输入工作岗位"):$(this).siblings(".error").text("")}},"#worlPast"),$(".resume").on({keyup:function(){var e=$(this).val();e.length>500?$(this).siblings(".error").text("字数不超过500个"):0==e.length?$(this).siblings(".error").text("请输入工作描述"):$(this).siblings(".error").text("")}},"#jobDesc")}function m(){$(".resume").on({keyup:function(){$(this).val().length>50?$(this).siblings(".error").text("字数不超过50个"):0==$(this).val().length?$(this).siblings(".error").text("请输入学校名称"):$(this).siblings(".error").text("")}},"#school"),$(".resume").on({keyup:function(){$(this).val().length>50?$(this).siblings(".error").text("字数不超过50个"):0==$(this).val().length?$(this).siblings(".error").text("请输入专业名称"):$(this).siblings(".error").text("")}},"#major")}function p(){var e=$(".resume .exper .nowtime");"至今"==g.experEndTime?(e.addClass("active"),$(".resume .exper .endtime select").attr("disabled","disabled").css("background","#f4f3f3"),$(".resume #experEndTime").val("至今")):(e.removeClass("active"),$(".resume .exper .endtime select").removeAttr("disabled").css("background","#fff"))}function h(){var e=$(".resume .educ .nowtime");"至今"==g.educEndTime?(e.addClass("active"),$(".resume .educ .endtime select").attr("disabled","disabled").css("background","#f4f3f3"),$(".resume #educEndTime").val("至今")):(e.removeClass("active"),$(".resume .educ .endtime select").removeAttr("disabled").css("background","#fff"))}function f(){var e=$(".resume .exper");e.on({click:function(){$(this).siblings(".error").text(""),$(this).hasClass("active")?($(this).removeClass("active"),$(".resume .exper .endtime select").removeAttr("disabled").css("background","#fff"),$(".resume #experEndTime").val($(".resume #experEndTimeYear").val()+"-"+$(".resume #experEndTimeMonth").val())):($(this).addClass("active"),$(".resume .exper .endtime select").attr("disabled","disabled").css("background","#f4f3f3"),$(".resume #experEndTime").val("至今"))}},".nowtime")}function v(){var e=$(".resume .educ");e.on({click:function(){$(this).siblings(".error").text(""),$(this).hasClass("active")?($(this).removeClass("active"),$(".resume .educ .endtime select").removeAttr("disabled").css("background","#fff"),$(".resume #educEndTime").val($(".resume #educEndTimeYear").val()+"-"+$(".resume #educEndTimeMonth").val())):($(this).addClass("active"),$(".resume .educ .endtime select").attr("disabled","disabled").css("background","#f4f3f3"),$(".resume #educEndTime").val("至今"))}},".nowtime")}var b,g,_,w,y,x,k=!1,C=!1;_=new Date,w=_.getFullYear()+"-"+(_.getMonth()+1)+"-"+_.getDate();var T=function(){$(".resume .tabTit li").on("click",function(){$(this).addClass("cur").siblings().removeClass("cur"),$(".resume .tabBox>div").eq($(this).index()).addClass("cur").siblings().removeClass("cur")}),$(".resume .radio-inline").on("click",function(){$(this).addClass("active").siblings().removeClass("active")}),n();var e=$(".resume .info .username"),t=$(".resume .info #workDate");e.on("keyup",function(){e.val().length>0?(e.removeClass("err"),e.siblings(".error").text("")):(e.addClass("err"),e.siblings(".error").text("请输入您的姓名"))}),t.change(function(){$(this).siblings(".error").text("")}),$(".resume .info .submitBtn input").on("click",function(){var a=$(".resume .info .tips");return 0==e.val().length?(e.siblings(".error").text("请输入您的姓名"),void 0):"0"==t.val()?(t.siblings(".error").text("请选择开始工作时间"),void 0):($.ajax({type:"POST",url:"/home/s/ajax_save_resume_user_info/",data:$("#resumeForm").serialize(),dataType:"json",success:function(e){e.success?(a.removeClass("err").addClass("succ").text("保存成功").fadeIn(200),setTimeout(function(){a.removeClass("succ").text("").fadeOut(200)},5e3),$(".personalTab").find("em").remove()):(a.removeClass("succ").addClass("err").text("保存失败").fadeIn(200),setTimeout(function(){a.removeClass("err").text("").fadeOut(200)},5e3))}}),void 0)});var a='<div class="create">	<form id="workExperForm">		<input type="hidden" id="workLastInsert" value="">		<div class="form-group">			<label for="company" class="control-label">公司名称：</label>			<div class="form-right"><input type="text" name="company" id="company" class="form-control"/><em class="error"></em></div>		</div>		<div class="form-group">			<label for="worlPast" class="control-label">工作岗位：</label>			<div class="form-right"><input type="text" name="worlPast" id="worlPast" class="form-control"/><em class="error"></em></div>		</div>		<div class="form-group">			<label class="control-label">任职时间：</label>			<div class="form-right selectTime">				<span class="starttime"><select class="form-control" id="experStartTimeYear"></select><select class="form-control" id="experStartTimeMonth"></select><select class="hiddenSelect" id="experStartTimeDay"></select></span> —— <span class="endtime"><select class="form-control" id="experEndTimeYear"></select><select class="form-control" id="experEndTimeMonth"></select><select class="hiddenSelect" id="experEndTimeDay"></select></span>				<span class="nowtime">至今</span>				<input type="hidden" name="experStartTime" value="" id="experStartTime"/>				<input type="hidden" name="experEndTime" value="" id="experEndTime"/>				<em class="error"></em>			</div>		</div>		<div class="form-group jobDesc">			<label for="jobDesc" class="control-label">工作描述：</label>			<textarea class="form-control" id="jobDesc" name="jobDesc" placeholder="请输入工作描述"></textarea>			<em class="error"></em>		</div>		<div class="btns">			<span class="keep">保存</span>			<span class="cancel">取消</span>		</div>	</form></div>',s=$(".resume .exper");s.on({click:function(){var e=$(this).parent().parent().parent();$.ajax({type:"POST",url:"/home/s/ajax_del_resume_work/",data:{last_insert_id:e.attr("id")},dataType:"json",success:function(t){t.success?(e.siblings().length||$(".workTab").append("<em>[未完善]</em>"),e.remove()):console.log(t.message)}})}},".del"),s.on({click:function(){var e,t,s,n,r,o,c;t=$(".resume .exper"),e=$(this).parent().parent().parent(),s=e.find(".exper_company").text(),n=e.find(".exper_work_title").text(),r=e.find(".exper_start_time").text()+"-01",o=e.find(".exper_work_content").text(),c="至今"==e.find(".exper_end_time").text()?e.find(".exper_end_time").text():e.find(".exper_end_time").text()+"-01",1==b&&t.children(".create").remove(),y=e.attr("id"),e.children().fadeOut(1),e.children(".boxTop").before(a),t.find("#company").val(s),t.find("#worlPast").val(n),t.find("#experStartTime").val(r),t.find("#jobDesc").val(o),t.find("#experEndTime").val(c),$("#workLastInsert").val(e.attr("id")),g.experEndTime=t.find("#experEndTime").val(),g.experStartTime=t.find("#experStartTime").val(),i(),p(),t.find(".add").fadeOut(200),b=!0,k=!0}},".edit"),u(),f();var b=!1;$(".resume .exper").on({click:function(){var e,t,a,s,n,i,r;return e=$(".resume #company"),t=$(".resume #worlPast"),a=$(".resume #jobDesc"),i=$(".resume #experEndTime"),s=$("#experStartTime").val(),n=$("#experEndTime").val(),"至今"==n&&(n=_.getFullYear()+"-"+(_.getMonth()+1)),r=Date.parse(new Date(n))-Date.parse(new Date(s)),0==e.val().length?(e.siblings(".error").text("请输入公司名称"),void 0):e.val().length>50?(e.siblings(".error").text("字数不能超过50个"),void 0):0==t.val().length?(t.siblings(".error").text("请输入工作岗位"),void 0):0>=r?(i.siblings(".error").text("任职时间格式不对，截止时间不能小于等于开始时间"),void 0):0==a.val().length?(a.siblings(".error").text("请输入工作描述"),void 0):a.val().length>500?(a.siblings(".error").text("字数不能超过500个"),void 0):($.ajax({type:"POST",url:"/home/s/ajax_save_resume_work/",data:$("#workExperForm").serialize()+"&resume_work_id="+$("#workLastInsert").attr("value"),dataType:"json",success:function(e){e.success?(o(e.data.last_insert_id),$(".workTab").find("em").remove()):console.log(e.message)}}),void 0)}},".keep"),$(".resume .exper").on({click:function(){b=!1,$(this).parent().siblings().find(".error").text(""),$(".resume .exper .create").remove(),$(".resume .exper #"+y).children(".create").remove(),$(".resume .exper #"+y).children().fadeIn(300),$(".resume .exper .add").fadeIn(300)}},".cancel"),$(".resume .exper .add").on("click",function(){$(".resume .exper .add").before(a),$("#workLastInsert").val(""),l(),i(),p(),0==b&&(b=!0,$(this).fadeOut()),1==k&&(k=!1)});var w='<div class="create"><form id="eudcForm">	<input type="hidden" id="eduLastInsert">	<div class="form-group">		<label for="school" class="control-label">学校名称：</label>		<div class="form-right"><input type="text" name="school" id="school" class="form-control"/><em class="error"></em></div>	</div>	<div class="form-group">		<label for="major" class="control-label">专业名称：</label>		<div class="form-right"><input type="text" name="major" id="major" class="form-control"/><em class="error"></em></div>	</div>	<div class="form-group">		<label class="control-label">就读时间：</label>		<div class="form-right selectTime">			<span class="starttime"><select class="form-control" id="educStartTimeYear"></select><select class="form-control" id="educStartTimeMonth"></select><select class="hiddenSelect" id="educStartTimeDay"></select></span> —— <span class="endtime"><select class="form-control" id="educEndTimeYear"></select><select class="form-control" id="educEndTimeMonth"></select><select class="hiddenSelect" id="educEndTimeDay"></select></span>			<span class="nowtime">至今</span>			<input type="hidden" name="educStartTime" value="" id="educStartTime"/>			<input type="hidden" name="educEndTime" value="" id="educEndTime"/>			<em class="error"></em>		</div>	</div>	<div class="form-group">		<label for="education" class="control-label">学历：</label>		<div class="form-right"><select class="form-control" name="education" id="education">			<option value="硕士">硕士</option>			<option value="本科">本科</option>			<option value="大专">大专</option>			<option value="高中及以下">高中及以下</option>		</select></div>	</div>	<div class="btns">		<span class="keep">保存</span>		<span class="cancel">取消</span>	</div></form></div>',T=$(".resume .educ");T.on({click:function(){var e=$(this).parent().parent().parent();$.ajax({type:"POST",url:"/home/s/ajax_del_resume_edu/",data:{last_insert_id:e.attr("id")},dataType:"json",success:function(t){t.success?(e.siblings().length||$(".eduTab").append("<em>[未完善]</em>"),e.remove()):console.log(t.message)}})}},".del"),T.on({click:function(){var e,t,a,s,n,i,o;t=$(".resume .educ"),e=$(this).parent().parent().parent(),a=e.find(".educ_school").text(),s=e.find(".educ_major").text(),n=e.find(".educ_start_time").text()+"-01",i=e.find(".educ_title").text(),o="至今"==e.find(".educ_end_time").text()?e.find(".educ_end_time").text():e.find(".educ_end_time").text()+"-01",1==S&&t.children(".create").remove(),x=e.attr("id"),e.children().fadeOut(1),e.children(".boxTop").before(w),t.find("#school").val(a),t.find("#major").val(s),t.find("#educStartTime").val(n),t.find("#education").val(i),t.find("#educEndTime").val(o),$("#eduLastInsert").val(e.attr("id")),g.educStartTime=t.find("#educStartTime").val(),g.educEndTime=t.find("#educEndTime").val(),r(),h(),t.find(".add").fadeOut(200),S=!0,C=!0}},".edit"),m(),v();var S=!1;$(".resume .educ").on({click:function(){var e,t,a,s,n,i;return e=$(".resume #school"),t=$(".resume #major"),a=$(".resume #educEndTime"),s=$("#educStartTime").val(),n=$("#educEndTime").val(),"至今"==n&&(n=_.getFullYear()+"-"+(_.getMonth()+1)),i=Date.parse(new Date(n))-Date.parse(new Date(s)),0==e.val().length?(e.siblings(".error").text("请输入学校名称"),void 0):0==t.val().length?(t.siblings(".error").text("请输入专业名称"),void 0):0>=i?(a.siblings(".error").text("任职时间格式不对，截止时间不能小于等于开始时间"),void 0):($.ajax({type:"POST",url:"/home/s/ajax_save_resume_edu/",data:$("#eudcForm").serialize()+"&resume_edu_id="+$("#eduLastInsert").attr("value"),dataType:"json",success:function(e){e.success?(c(e.data.last_insert_id),$(".eduTab").find("em").remove()):console.log(e.message)}}),void 0)}},".keep"),$(".resume .educ").on({click:function(){S=!1,$(this).parent().siblings().find(".error").text(""),$(".resume .educ .create").remove(),$(".resume .educ #"+x).children(".create").remove(),$(".resume .educ #"+x).children().fadeIn(300),$(".resume .educ .add").fadeIn(300)}},".cancel"),$(".resume .educ .add").on("click",function(){$(".resume .educ .add").before(w),$("#eduLastInsert").val(""),d(),r(),h(),0==S&&(S=!0,$(this).fadeOut()),1==C&&(C=!1)})};a.exports={init:s}}),define("/js/lps4/uc/teacherCenterING",["echarts"],function(e,t,a){function s(){n()}e("echarts");var n=function(){$(".teacherCenterINGboxL .cavner").each(function(e,t){var a=echarts.init(t),s={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:50,top:30,align:"left",data:["已学完","正常","落后","休学"]},series:[{name:"",type:"pie",radius:["60%","86%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},center:[80,80],labelLine:{normal:{show:!1}},data:[{value:$(this).attr("d1"),name:"已学完",itemStyle:{normal:{color:"#5496d1"}}},{value:$(this).attr("d2"),name:"正常",itemStyle:{normal:{color:"#5ecfba"}}},{value:$(this).attr("d3"),name:"落后",itemStyle:{normal:{color:"#fbb855"}}},{value:$(this).attr("d4"),name:"休学",itemStyle:{normal:{color:"#e24849"}}}]}]};a.setOption(s)})};a.exports={init:s}}),define("/js/lps4/uc/educationalCenter",["bxsliderCss","bxslider","echarts"],function(e,t,a){function s(e,t){n=t,i()}e("bxsliderCss"),e("bxslider")($),e("echarts");var n,i=function(){function e(){function e(e,a){t=e.length,a.append("<em>/ "+t+"</em>")}var t=0;e($(".teacherCenterTeachBxslider .bx-pager-item"),$(".teacherCenterTeachBxslider .bx-pager")),e($(".teacherCenterStudentBxslider .bx-pager-item"),$(".teacherCenterStudentBxslider .bx-pager"))}var t=document.getElementById("eCmainCavner");if(t){var a=echarts.init(t),s={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:50,top:30,align:"left",data:["毕业","已完成","正常","落后","休学","退学"]},series:[{name:"",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!1,textStyle:{fontSize:"30",fontWeight:"bold"}}},center:[100,100],labelLine:{normal:{show:!1}},data:n}]};a.setOption(s)}$(".teacherCenterMenu>a").click(function(){$(this).addClass("aH").siblings().removeClass("aH"),$(".teacherCenterTabContent>div").eq($(this).index()).addClass("cur").siblings().removeClass("cur")}),$(".teacherCenterTeachBxslider>ul,.teacherCenterStudentBxslider>ul").bxSlider({captions:!0,auto:!0}),e();var i="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(i,function(){e()})};a.exports={init:s}});